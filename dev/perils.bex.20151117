''' Perils.bex
'''
''' First attempt to code a proper game for teh Genesis
'''
''' Copyleft 2013 The Mojon Twins
''' Abandoned until 2015 - And finished.

''' PS. Don't code your game in BEX.
''' DONT even THINK about doing so.

''' Uses vSync code from
''' http://bigevilcorporation.co.uk/2012/04/30/sega-megadrive-7-gamepad-input-and-the-game-loop/

''' Set Bex options

	Option CARTRIDGE
	Option TITLE, "MEGA Cheril Perils"
	Option NOLOADFONT

''' Constants

	Const #map_w				= 6
	Const #map_h				= 6
	
''' Very important

	Global ntscTimings as Integer
	Global frctr as Integer

''' Those used to be constants, but I need them as variables
''' So I can adjusto for NTSC.

	Global player_max_vy_fall as Integer
	Global player_g	as Integer
	Global player_max_vy_jump as Integer
	Global player_jump_incr as Integer
	Global player_jump_ini as Integer

	Global player_max_vx as Integer
	Global player_ax as Integer
	Global player_fx as Integer

	Global player_conveyor as Integer

''' Global variables

	'' Data pointers
	Global ptrMap0& as Long		' Points to map layer 0
	Global ptrMap1& as Long		' Points to map layer 0
	Global ptrExtra& as Long	' Points to extra
	Global ptrEnems& as Long	' Points to enems
	Global ptrBeh& as Long		' Points to behaviours
	Global ptrResn& as Long		' Points to resonators
	
	'' Pcm player needs this
	Dim pcmid as long
    
	'' Game
	Global s_pant as Integer
	Global n_pant as Integer
	Global nn_pant as Integer
	Dim doGame as Integer
	Dim doPlay as Integer
	Global estrujs_on as Integer

	Global level as Integer

	'' Cheril
	Global plX as Integer
	Global plY as Integer
	Global plVX as Integer
	Global plVY as Integer
	Global plFacing as Integer
	Global plFrame as Integer
	Global plSubFrame as Integer
	Global plJumping as Integer
	Global plGotten as Integer
	Global plJumpCtr as Integer
	Global plStep as Integer
	Global plFlicker as Integer
	Global plCtr as Integer
	Global plLife as Integer
	Global plKeys as Integer
	Global plKilled as Integer
	Global plNenem as Integer

	'' Heart
	Global heartX as Integer
	Global heartY as Integer
	Global heartAct as Integer
	Global heartFreq as Integer
	Global heartNPant as Integer

	'' Resonators
	Global resnX as Integer
	Global resnY as Integer
	Global resnOn as Integer
	Global resnCt as Integer
	Global resnFrames as Integer
	Global resnCtFrames as Integer
	Global resnCtShow as Integer

	'' Estrujators
	' 0:x 1:y 2:state 3:steps 4:ct 5:maxct 6:aux
	Global estruj(7, 6) as Integer

	'' Enemy Data
	' 6*6*4 = 144
	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:ct2
	Global enemies(143, 15) As Integer
	Global enoffs as Integer

	'' Collision Data
	Global behaviours(47) As Integer

	'' Ram buffers
	Global pattr(20,13) As Integer

	'' Sine tables
	Global sine_table_16(63) As Integer At sine_table_16_Data

	'' Sprite handlers
	Global sprPl as Integer
	Global sprEn(3) As Integer
	Global hudSprs(7) As Integer
	Global sprExtra(7) As Integer
	Global sprHeart As Integer
	Global sprResn As Integer
	Global sprResnCd As Integer

	'' Misc
	Global half_life As Integer
	Global frame_counter As Integer
	Global GAME_B as Integer

	'' Sprite offsets
	' Main Player
	' 0 = standing
	' 1,2,3,4 = running
	' 5 = jumping/falling
	' +6 = facing left.
	Global pl_spr_offs(13) As Integer At pl_sprite_offsets_Data
	Global fl_spr_offs(4) As Integer At fl_sprite_offsets_Data

	' Enemies
	Global en_spr_offs(31) As Integer At en_sprite_offsets_Data

	' Explosion
	Global ex_spr_offs(1) As Integer At ex_sprite_offsets_Data

	' Platforms
	Global pt_spr_offs(1) As Integer At pt_sprite_offsets_Data

	' Countdown
	Global cd_spr_offs(9) As Integer At cd_sprite_offsets_Data

	'' Extra objects
	' 0:x 1:y 2:rx 3:ry 4:type 5:state{0 idle, 1 moving, ...} 6:dx
	' Define 8
	Global extra_objects(287, 7) As Integer
	Global exoffs As Integer
	
	''
	Global language As Integer
	
	''
	Global yScrollPostn (19) As Integer
	Global yScrollCoord (19) As Integer

''' Initialization stuff

	pcmid& = 64
	Disable Screen
	z80_loadDriver
	Enable Screen
	
	initializationStuff
	selectLanguage

''' Game on

	Do
		' Menu, intros, etc here
		title
		sleep 60				' Let the sound ring...
		
		
''' First cutscene
		showCutS 1

''' That's it.

		GAME_B = 1
		
		'' level support

		' TEMPORAL
		' level = select_level()	' temporal
		level = 5
		doPlay = 1
		While doPlay = 1

''' Init Game
			showCutS level + 1
			Disable Screen
			prepareMyGameStuff
			prepare_level
			n_pant = s_pant
			nn_pant = n_pant

			' Prepare Screen
			draw_scr
			If estrujs_on = 1 Then move_estruj
			' Dale Fran!
			playSound 11
			hud

			' Start music
			If ntscTimings = 1 Then
				sleep 90
			Else
				sleep 75
			End If
	    	playThisLevelMusic

			' Let's do it
			doGame = 1
			half_life = 0
			gameOver = 0
			
			' Raster?
			' Hate having to do this. Missing boolean math :(
			If level = 4 [OR] level = 5 Then doRasterEffect = 1 Else doRasterEffect = 0

			SetScrollMode HSCROLL_CELL, VSCROLL_2CELL
			While doGame = 1
				half_life = 1 - half_life
				frame_counter = frame_counter + 1

				'' Move stuff around
				move_player
				move_enems
				move_with_platforms
				move_extra
				move_heart
				If estrujs_on = 1 Then move_estruj
				do_resonators

				'' Manage collisions
				collisions

				'' Pause button
				pause_button

				'' Change screen ?
				change_screen
				If nn_pant <> n_pant Then
					fix_movables
					n_pant = nn_pant
					draw_scr
					hud
				End If

				'' Scrolly Effect
				If ntscTimings = 1 Then
					If doRasterEffect = 1 Then scrolly_effect_ntsc
				Else
					If doRasterEffect = 1 Then scrolly_effect
				End If

				'' Update Sprites
				sleep 1

				' Y + 8 all sprites.
				' Player: offset -4, -8

				If plFlicker = 0 [OR] half_life = 1 [OR] plCtr > 90 Then
					moveSprite sprPl, (plX >> 6) - 4, (plY >> 6)
				Else
					moveSprite sprPl, 0, 0
				End If

				' Enemies
				For mli = 0 To 3
					If enemies(enoffs + mli, 8) Then moveSprite SprEn(mli), enemies(enoffs + mli, 0) - 4, enemies(enoffs + mli, 1)
				Next mli

				' Cheat
				j = JoyPad()
				If j.0 [AND] j.4 [AND] j.5 [AND] j.6 Then plKilled = plNenem

				' End game?
				If plKilled = plNenem Then
					win_level
					doGame = 0
				End If

				If plLife = 0 Then
					game_over
					doGame = 0
					doPlay = 0
				End If
			Wend
			
			If level = 4 [OR] level = 5 Then scrolly_reset
			
			For i = 0 To 7
				FreeSprite sprExtra(i)
			Next i
			For i = 0 To 3
				FreeSprite SprEn(i)
			next i
			FreeSprite SprPl
			FreeSprite SprHeart
			FreeSprite SprResn
			FreeSprite SprResnCd
			
			scrollyVMelt
			
			For i = 0 To 7
				FreeSprite hudSprs(i)
			Next i
			
			level = level + 1
			If (level = 6) Then
				showCutS 7
				showCutS 8
				doPlay = 0
			End If

			' Stop playback
			
		Wend
	Loop

''' Subroutines

''' SUPERHACK
''' Al principio todas las que llamen a otras con parámetros.

'' Draws current screen and sets up enemies and stuff
Declare Sub draw_scr
	' Estrujs:
	For esi = 0 To 7
		estruj(esi, 2) = &HFF
	Next esi

	Sleep 1
	Disable Screen

	'' Prepare enemies
	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:res3
	enoffs = n_pant << 2
	For eni = 0 To 3
		If enemies(enoffs + eni, 8) Then
			load_spr_tiles eni, enemies(enoffs + eni, 8) - 1
			moveSprite SprEn(eni), enemies(enoffs + eni, 0) - 4, enemies(enoffs + eni, 1)
		Else
			moveSprite SprEn(eni), 0, 0
		End If
	Next eni

	'' Place player
	moveSprite sprPl, (plX >> 6) - 4, (plY >> 6)

	'' Draw BG
	SetGFXPlane SCROLL_B
	DataPtr& = ptrMap0&
	draw_layer 2, 0

	'' Draw FG
	SetGFXPlane SCROLL_A
	DataPtr& = ptrMap1&
	draw_layer 1, 1

	'' Extra objects

	exoffs = n_pant << 3
	For exi = 0 To 7
		exIdx = exoffs + exi
		' state
		extra_objects(exIdx, 5) = 0
		If extra_objects(exIdx, 4) <> 0 Then
			' Attr
			If extra_objects(exIdx, 4) = 2 [OR] extra_objects(exIdx, 4) = 3 Then
				pattr(extra_objects(exIdx, 0), extra_objects(exIdx, 1)) = 4
			End If
			propSprite sprExtra(exi), 152 + (extra_objects(exIdx, 4)<<2), 0
			moveSprite sprExtra(exi), extra_objects(exIdx, 2), extra_objects(exIdx, 3)
		Else
			moveSprite sprExtra(exi), 0, 0
		End If
	Next exi

	'' Place resonator
	If GAME_B != 0 Then
		DataPtr& = ptrResn& + (n_pant << 1)
		Read x
		resnX = 128 + (x << 4)
		Read y
		resnY = 128 + (y << 4)

		If resnOn = 0 Then
			propSprite sprResn, 1088, 3
			moveSprite sprResnCd, 0, 0
			If x + y <> 0 Then resnCtShow = 1
		Else
			propSprite sprResn, 1097, 3
			If x + y <> 0 Then 
				propSprite sprResnCd, cd_spr_offs(resnCt), 0
				moveSprite sprResnCd, resnX + 4, resnY + 8
				resnCtShow = 1
			Else
				moveSprite sprResnCd, 0, 0
				resnCtShow = 0
			End If
		End If

		If x + y <> 0 Then 
			moveSprite sprResn, resnX - 4, resnY
		Else
			moveSprite sprResn, 0, 0
		End If

		' set_pal_nm
	Else
		resnX = 0
		resnY = 0
		resnOn = 0
	End If
	'' Whoahahahaha

	Enable Screen
End Sub

'' Load enemies from ROM into RAM and precalc stuff
Declare Sub load_enemies()
 	' Data t, x1, y1, x2, y2, v
 	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:ct2

	DataPtr& = ptrEnems&

	For len_i = 0 To 143
		Read t, x1, y1, x2, y2, v
		enemies(len_i, 0) = 128 + (x1 << 4)
		enemies(len_i, 1) = 128 + (y1 << 4)
		enemies(len_i, 2) = 128 + (x1 << 4)
		enemies(len_i, 3) = 128 + (y1 << 4)
		enemies(len_i, 4) = 128 + (x2 << 4)
		enemies(len_i, 5) = 128 + (y2 << 4)
		enemies(len_i, 6) = directn(x2, x1, v)
		enemies(len_i, 7) = directn(y2, y1, v)
		enemies(len_i, 8) = t
		enemies(len_i, 9) = 1		' en:st: 0:off 1:normal 2:pursuing 3:dying
		enemies(len_i, 10) = 0		' ct1
		enemies(len_i, 11) = 0		' ct2
	Next i
End Sub

'' Move extra objects and checks for collisions
Declare Sub move_extra()
	' 0:x 1:y 2:rx 3:ry 4:type 5:state{0 idle, 1 moving, ...} 6:dx

	x = plX >> 6
	y = 8 + (plY >> 6)

	For i = 0 To 7
		exIdx = exoffs + i
		' Moving? 1 <-, 2 ->
		If extra_objects(exIdx, 5) = 1 Then
			extra_objects(exIdx, 2) = extra_objects(exIdx, 2) - 4
			moveSprite sprExtra(i), extra_objects(exIdx,2), extra_objects(exIdx,3)
			If extra_objects(exIdx, 2) = extra_objects(exIdx, 6) Then
				extra_objects(exIdx, 5) = 0
				extra_objects(exIdx, 0) = extra_objects(exIdx, 0) - 1
				pattr(extra_objects(exIdx, 0), extra_objects(exIdx, 1)) = 4
				pattr(extra_objects(exIdx, 0) + 1, extra_objects(exIdx, 1)) = 0
			End If
		ElseIf extra_objects(exIdx, 5) = 2 Then
			extra_objects(exIdx, 2) = extra_objects(exIdx, 2) + 4
			moveSprite sprExtra(i), extra_objects(exIdx,2), extra_objects(exIdx,3)
			If extra_objects(exIdx, 2) = extra_objects(exIdx, 6) Then
				extra_objects(exIdx, 5) = 0
				extra_objects(exIdx, 0) = extra_objects(exIdx, 0) + 1
				pattr(extra_objects(exIdx, 0), extra_objects(exIdx, 1)) = 4
				pattr(extra_objects(exIdx, 0) - 1, extra_objects(exIdx, 1)) = 0
			End If
		Else
			' Collision?
			If x >= extra_objects(exIdx, 2) - 15 [AND] x <= extra_objects(exIdx, 2) + 15 Then
				If y >= extra_objects(exIdx, 3) - 15 [AND] y <= extra_objects(exIdx, 3) + 15 Then
					' Which type?
					' 1->key 2->bolt 3->block 4->life...
					Select Case extra_objects(exIdx, 4)
						' Keys
						Case 1:
							playSound 5
							plKeys = plKeys + 1
							hud
							extra_objects(exIdx, 4) = 0
							moveSprite sprExtra(i), 0, 0
							pattr(extra_objects(exIdx, 0), extra_objects(exIdx, 1)) = 0
							Exit Select

						' Bolts
						Case 2:
							If plKeys = 0 Then
								playSound 10
								'plVX = 32768 - plVX + 32768
								'plVY = 32768 - plVX + 32768
								If plVX < 32768 Then
									plVX = 32768 + 256
								Else If plVX > 32768
									plVX = 32768 - 256
								End If
								If plVY < 32768 Then
									plVY = 32768 + 256
								Else If plVY > 32768
									plVY = 32768 - 256
								End If
							Else
								playSound 8
								plKeys = plKeys - 1
								hud
								extra_objects(exIdx, 4) = 0
								moveSprite sprExtra(i), 0, 0
								pattr(extra_objects(exIdx, 0), extra_objects(exIdx, 1)) = 0
							End If
							Exit Select

						' Blocks (pushable)
						Case 3:
							If x < extra_objects(exIdx, 2) - 10 [OR] extra_objects(exIdx, 0) = 0 Then
								If attr(extra_objects(exIdx, 0) + 1, extra_objects(exIdx, 1)) < 8 Then
									extra_objects(exIdx, 5) = 2
									extra_objects(exIdx, 6) = extra_objects(exIdx, 2) + 16
									playSound 17
								End If
							End If
							If x >= extra_objects(exIdx, 2) + 11 [OR] extra_objects(exIdx, 0) = 19 Then
								If attr(extra_objects(exIdx, 0) - 1, extra_objects(exIdx, 1)) < 8 Then
									extra_objects(exIdx, 5) = 1
									extra_objects(exIdx, 6) = extra_objects(exIdx, 2) - 16
									playSound 17
								End If
							End If
							Exit Select

						' Life
						Case 4:
							playSound 6
							plLife = plLife + 1
							hud
							extra_objects(exIdx, 4) = 0
							moveSprite sprExtra(i), 0, 0
							pattr(extra_objects(exIdx, 0), extra_objects(exIdx, 1)) = 0
							Exit Select
					End Select
				End If
			End If
		End If
	Next i
End Sub

'' Draws the a
'' Hud is made of sprites
Declare Sub hud()
	print_num2 1, plLife
	print_num2 4, plNenem - plKilled
	print_num1 7, plKeys
End Sub

'' Player movement. Reads joypad and does stuff
Declare Sub move_player()

	' Ugly fixtures
	'If plX < 8192 Then plX = 8192

	'' Flicker counter
	' plState.1 == flicker
	If plFlicker = 1 Then
		plCtr = plCtr - 1
		If plCtr = 0 Then
			plFlicker = 0
		End If
	End If

	'' Read joypad
	j = joypad();

	'' Vertical

	If plVY < player_max_vy_fall Then
		plVY = plVY + player_g
	Else
		plVY = player_max_vy_fall
	End If

	If plGotten = 1 Then
		plVY = 32768
	End If

	plY = plY - 32768 + plVY

	x = (plX >> 6) - 128
	y = (plY >> 6) - 128
	xx = x >> 4
	yy = y >> 4
	possee = 0

	If plVY < 32768 Then
		If (attr(xx, yy) > 4) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy) > 4)) Then
			plVY = 32768
			plY = (((yy + 1) << 4) + 128) << 6
		End If
	ElseIf plVY > 32768 [AND] ((y and 15) < 8) Then
		If (attr(xx, yy + 1) > 1) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy + 1) > 1)) Then
			plVY = 32768
			plY = ((yy << 4) + 128) << 6
			possee = 1
		End If
	End If

	y = (plY >> 6) - 128
	yy = y >> 4

	'if j.4 Then showattr

	' Jump
	If j.4 [OR] j.5 [OR] j.6 Then
		If (plVY = 32768 [AND] plJumping = 0 [AND] (possee = 1 [OR] plGotten = 1)) Then
			plJumping = 1
			plJumpCtr = 0
			playSound 1
			plVY = 32768 - player_jump_ini
		ElseIf plJumping = 1 Then
			'plVY = plVY - (player_jump_incr - (plJumpCtr >> 2))
			jmpAmnt = player_jump_incr - (plJumpCtr << 2)
			plVY = plVY - jmpAmnt
			If (plVY < 32768 - player_max_vy_jump) Then plVY = 32768 - player_max_vy_jump
			'locate 3+plJumpCtr, 2: Print plJumpCtr;" ";jmpAmnt;" ";plVY
			plJumpCtr = plJumpCtr + 1
			If plJumpCtr >= 8 Then
				plJumping = 0
			End If
		End If
	Else
		plJumping = 0
	End If

	y = (plY >> 6) - 128
	yy = y >> 4

	'' Horizontal

	' Slippery when wet?
	slipping = 0
	slippery = 0
	ax = player_ax
	fx = player_fx
	If (y And 15) = 0 Then
		If ((attr(xx, yy + 1) = 3) [OR] (attr(xx, yy + 1) = 7)) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy + 1) = 3 [OR] attr(xx + 1, yy + 1) = 7)) Then
			ax = 2
			fx = 1
			slippery = 1
		End if
	End If

	If j.2 Then
		If plVX > 32768 - player_max_vx Then
			plFacing = 7
			plVX = plVX - ax
		End If
	ElseIf j.3 Then
		If plVX < 32768 + player_max_vx Then
			plFacing = 0
			plVX = plVX + ax
		End If
	Else
		' friction
		slipping = 1
		If plVX > 32768 Then
			plVX = plVX - fx
			If plVX < 32768 Then plVX = 32768
		ElseIf plVX < 32768 Then
			plVX = plVX + fx
			If plVX > 32768 Then plVX = 32768
		EndIf
	End if

	'' Conveyors
	olPlX = plX

	If (y and 15) = 0 Then
		If (attr(xx, yy + 1) = 5) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy + 1) = 5)) Then
			plX = plX - player_conveyor
		End If
		If (attr(xx, yy + 1) = 6) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy + 1) = 6)) Then
			plX = plX + player_conveyor
		End If
	End If

	plX = plX - 32768 + plVX

	x = (plX >> 6) - 128
	xx = x >> 4

	If plX < olPlX Then
		If (attr(xx, yy) > 4) [OR] ((y and 15) <> 0 [AND] (attr(xx, yy + 1) > 4)) Then
			plVX = 32768
			plX = (((xx + 1) << 4) + 128) << 6
		End If
	End If
	If plX > olPlX Then
		If (attr(xx + 1, yy) > 4) [OR] ((y and 15) <> 0 [AND] (attr(xx + 1, yy + 1) > 4)) Then
			plVX = 32768
			plX = ((xx << 4) + 128) << 6
		End If
	End If

	x = (plX >> 6) - 128
	xx = x >> 4

	' Evil tile!

	If plVY > 32768 Then
		If (attr(xx, yy + 1) = 1) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy + 1) = 1)) Then
			plVY = 32768 - 256
			plY = ((yy << 4) + 128) << 6
			one_life_less
			playSound 4
		End If
	Else
		If (attr(xx, yy) = 1) [OR] ((x and 15) <> 0 [AND] (attr(xx + 1, yy) = 1)) Then
			If plVY <> 32768 Then
				plVY = 32768 + 256
				plY = (((yy + 1) << 4) + 128) << 6
			Else
				plVY = 32768 - 256
			End If
			one_life_less
			playSound 4
		End If
	End If
	y = (plY >> 6) - 128
	yy = y >> 4
	If plX < olPlX Then
		If (attr(xx, yy) = 2) [OR] ((y and 15) <> 0 [AND] (attr(xx, yy + 1) = 1)) Then
			plVX = 32768 + 128
			'plX = (((xx + 1) << 4) + 128) << 6
			one_life_less
			playSound 4
		End If
	ElseIf plX > olPlX Then
		If (attr(xx + 1, yy) = 2) [OR] ((y and 15) <> 0 [AND] (attr(xx + 1, yy + 1) = 1)) Then
			plVX = 32768 - 128
			'plX = ((xx << 4) + 128) << 6
			one_life_less
			playSound 4
		End If
	Else

	End If

	' Which sprite?
	If plFlicker = 1 [AND] plCtr > 90 Then
		propSprite sprPl, pl_spr_offs(plFacing + 6), 3
	Else
		If (plVY <> 32768 [OR] possee = 0) [AND] plGotten = 0 Then
			propSprite sprPl, pl_spr_offs(plFacing + 5), 3
		ElseIf plVX <> 32768 Then
			If slippery Then
				If slipping Then
					plSubFrame = (plSubFrame + 1) And 3
					If plSubFrame = 0 Then propSprite sprPl, pl_spr_offs(plFacing + 2), 3
					'plSubFrame = 0
				Else
					plSubFrame = (plSubFrame + 1) And 3
					If plSubFrame = 3 Then plFrame = (plFrame + 1) And 3
					propSprite sprPl, pl_spr_offs(plFacing + plFrame), 3
				End If
			Else
				plSubFrame = 0
				plFrame = 1 + (xx % 4)
				propSprite sprPl, pl_spr_offs(plFacing + plFrame), 3
			End If
		Else
			propSprite sprPl, pl_spr_offs(plFacing), 3
		EndIf
	EndIf
End Sub

'' Checks for collisions between player and baddies
Declare Sub collisions
	x = plX >> 6
	y = plY >> 6

	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:res3
	For i = 0 To 3
		enIdx = enoffs + i
		If enemies(enIdx, 8) > 0 [AND] enemies(enIdx, 8) < 8 Then
			If enemies(enIdx, 9) <> 0 [AND] enemies(enIdx, 9) <> 3 Then

				If GAME_B <> 1 [OR] resnOn = 1 Then
					If plVY > 32768 Then
						If x >= enemies(enIdx, 0) - 15 [AND] x <= enemies(enIdx, 0) + 15 Then
							If y >= enemies(enIdx, 1) - 23 [AND] y <= enemies(enIdx, 1) - 12 Then
								' Kill
								plKilled = plKilled + 1
								enemies(enIdx, 9) = 3 ' State = dying
								enemies(enIdx, 10) = 60 ' Count = 1 second
								hud
								plVY = 32608 ' 32768 - 160

								' Throw heart?
								If (plKilled And heartFreq) = 0 Then
									heartAct = 1
									heartX = 448
									heartY = 240
									heartNPant = n_pant
								End If

								playSound 7

								Continue For ' next iteration!
							End If
						End If
					End If
				End If

				' Normal collision: kill player

				If GAME_B <> 1 [OR] resnOn = 0 Then 
					If x >= enemies(enIdx, 0) - 12 [AND] x <= enemies(enIdx, 0) + 12 Then
						If y >= enemies(enIdx, 1) - 16 [AND] y <= enemies(enIdx, 1) + 12 Then
							if plFlicker = 0 Then
								plVY = 32448 ' 32768 - 320
								one_life_less
								playSound 2
							EndIf
						End If
					End If
				End If
			End If
		End If
	Next i
End Sub

'' Manages the interaction between the player and moving platforms
Declare Sub move_with_platforms
	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:ct2
	plGotten = 0

	For i = 0 To 3
		enIdx = enoffs + i
		t = enemies(enIdx, 8)
		If t = 8 Then
			x = plX >> 6
			y = plY >> 6

			If x >= enemies(enIdx, 0) - 15 [AND] x <= enemies(enIdx, 0) + 15 Then
				' Vert
				If enemies(enIdx, 7) <= 32768 Then
					If y >= enemies(enIdx, 1) - 16 [AND] y <= enemies(enIdx, 1) - 8 Then
						If plVY > 32768 - player_jump_incr Then
							plGotten = 1
							plY = (enemies(enIdx, 1) - 16) << 6
							plVY = 32768
							' Collide with background?
							xx = (x - 128) >> 4
							yy = (y - 128) >> 4
							If attr(xx, yy) > 4 [OR] ((x And 15) <> 0 [AND] attr(xx+1, yy) > 4) Then
								plY = (128 + ((yy + 1) << 4)) << 6
							End If
						End If
					End If
				Else If enemies(enIdx, 7) > 32768 Then
					If y >= enemies(enIdx, 1) - 20 [AND] y <= enemies(enIdx, 1) - 8 Then
						If plVY >= 32768 Then
							plGotten = 1
							plY = (enemies(enIdx, 1) - 16) << 6
							plVY = 32768
							' Collide with background?
							xx = (x - 128) >> 4
							yy = (y - 128) >> 4
							If attr(xx, yy + 1) > 3 [OR] ((x And 15) <> 0 [AND] attr(xx + 1, yy + 1) > 3) Then
								plY = (128 + (yy << 4)) << 6
							End If
						End If
					End If
				End If

				' Horz
				If enemies(enIdx, 6) < 32768 Then
					If y >= enemies(enIdx, 1) - 16 [AND] y <= enemies(enIdx, 1) - 11 Then
						If plVY >= 32768 Then
							plGotten = 1
							plY = (enemies(enIdx, 1) - 16) << 6
							plVY = 32768
							'If GAME_B <> 1 [OR] resnOn = 0 Then
								x = x + enemies(enIdx, 6)-32768
								plX = x << 6

								' Collide with background?
								xx = (x - 128) >> 4
								yy = (y - 128) >> 4
								If attr(xx, yy) > 4 [OR] ((y And 15) <> 0 [AND] attr(xx, yy + 1) > 4) Then
									plVX = 32768
									plX = (128 + ((xx + 1) << 4)) << 6
								End If
							'End If
						End If
					End If
				Else If enemies(enIdx, 6) > 32768 Then
					If y >= enemies(enIdx, 1) - 16 [AND] y <= enemies(enIdx, 1) - 11 Then
						If plVY >= 32768 Then
							plGotten = 1
							plY = (enemies(enIdx, 1) - 16) << 6
							plVY = 32768
							'If GAME_B <> 1 [OR] resnOn = 0 Then
								x = x + enemies(enIdx, 6)-32768
								plX = x << 6
								' Collide with background?
								xx = (x - 128) >> 4
								yy = (y - 128) >> 4
								If attr(xx + 1, yy) > 4 [OR] ((y And 15) <> 0 [AND] attr(xx + 1, yy + 1) > 4) Then
									plVX = 32768
									plX = (128 + (xx << 4)) << 6
								End If
							'End If
						End If
					End If
				End If
			End If
		End If
	Next i
End Sub

'' Moves the enemies around.
Declare Sub move_enems
	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:ct2
	For i = 0 To 3
		enIdx = enoffs + i
		' Enemy type
		t = enemies(enIdx, 8)

		' Which state?
		' en:st: 0:off 1:normal 2:pursuing 3:dying
		' "pursuing" not implemented in this game.
		' No enemies pursue you here. Yet.
		Select Case enemies(enIdx, 9)
			Case 0:
				' Off
				Exit Select
			Case 1:
				' Normal (roaming)
				If (t > 0 [AND] t < 5) [OR] t = 8 Then
					If GAME_B <> 1 [OR] resnOn = 0 [OR] t = 8 Then
						' linear movement, limited movement.
						enemies(enIdx, 0) = enemies(enIdx, 0) + enemies(enIdx, 6) - 32768
						If enemies(enIdx, 0) = enemies(enIdx, 2) [OR] enemies(enIdx, 0) = enemies(enIdx, 4) Then
							' Change sign...
							'enemies(enIdx, 6) = 32768 - enemies(enIdx, 6) + 32767
							enemies(enIdx, 6) = 32768 - enemies(enIdx,6) + 32768
						End If

						enemies(enIdx, 1) = enemies(enIdx, 1) + enemies(enIdx, 7) - 32768
						If enemies(enIdx, 1) = enemies(enIdx, 3) [OR] enemies(enIdx, 1) = enemies(enIdx, 5) Then
							' Change sign...
							'enemies(enIdx, 6) = 32768 - enemies(enIdx, 6) + 32767
							enemies(enIdx, 7) = 32768 - enemies(enIdx,7) + 32768
						End If
					End If

					' Sprite frame
					If t = 8 Then
						enFrame = half_life
						propSprite sprEn(i), pt_spr_offs(enFrame), 3
					Else
						If enemies(enIdx, 6) < 32768 Then
							enFacing = 4
						ElseIf enemies(enIdx, 6) > 32768 Then
							enFacing = 0
						Else
							If enemies(enIdx, 7) < 32768 Then
								enFacing = 4
							Else
								enFacing = 0
							End If
						End If

						If t = 4 Then b = 2 else b = 4

						If enemies(enIdx, 6) <> 32768 Then
							enFrame = (enemies(enIdx, 0) >> b) % 4
						Else
							enFrame = (enemies(enIdx, 1) >> b) % 4
						End If

						propSprite sprEn(i), en_spr_offs((i << 3) + enFacing + enFrame), 3
					End If

				ElseIf t = 5 Then
					'' Subaquatic-alike (amoeba)
					If GAME_B <> 1 [OR] resnOn = 0 Then
						r = rnd(5)
						If r < 3 And enemies(enIdx, 0) < 144 Then r = 2
						If r < 3 And enemies(enIdx, 0) > 416 Then r = 1
						If r > 2 And enemies(enIdx, 1) < 160 Then r = 4
						If r > 2 And enemies(enIdx, 1) > 304 Then r = 3
						If r = 1 And enemies(enIdx, 0) > 128 Then enemies(enIdx, 0) = enemies(enIdx, 0) - 1
						If r = 2 And enemies(enIdx, 0) < 432 Then enemies(enIdx, 0) = enemies(enIdx, 0) + 1
						If r = 3 And enemies(enIdx, 1) > 128 Then enemies(enIdx, 1) = enemies(enIdx, 1) - 1
						If r = 4 And enemies(enIdx, 1) < 320 Then enemies(enIdx, 1) = enemies(enIdx, 1) + 1
					End If

					' Sprite frame
					enFrame = frame_counter % 7
					propSprite sprEn(i), en_spr_offs((i << 3) + enFrame), 3

				ElseIf t = 6 Then
					If GAME_B <> 1 [OR] resnOn = 0 Then
						'' Random weirdo
						r = rnd(8)
						nr = 1 + rnd(8)

						' Horz
						If enemies(enIdx, 10) = 0 Then
							If enemies(enIdx, 0) < 144 Then r = 1
							If enemies(enIdx, 0) > 416 Then r = 3
							If r = 1 [OR] r = 2 Then
								enemies(enIdx, 10) = nr << 4
								enemies(enIdx, 6) = 32768 + (r >> 1)
							ElseIf r = 3 [OR] r = 4 Then
								enemies(enIdx, 10) = nr << 4
								enemies(enIdx, 6) = 32768 - ((r >> 1) - 2)
							End If
						Else
							enemies(enIdx, 10) = enemies(enIdx, 10) - 1
							' Move?
							xx = (enemies(enIdx, 0) - 128) >> 4
							yy = (enemies(enIdx, 1) - 120) >> 4
							If enemies(enIdx, 6) > 32768 Then
								If ((enemies(enIdx, 0) And 15) <> 0 [OR] (attr(xx + 1, yy) < 8 [AND] ((enemies(enIdx, 1) And 15) = 0 [OR] attr(xx + 1, yy + 1) < 8))) Then
									enemies(enIdx, 0) = enemies(enIdx, 0) + enemies(enIdx, 6) - 32768
								Else
									enemies(enIdx, 10) = 0
								End If
							Else
								If ((enemies(enIdx, 0) And 15) <> 0 [OR] (attr(xx - 1, yy) < 8 [AND] ((enemies(enIdx, 1) And 15) = 0 [OR] attr(xx - 1, yy + 1) < 8))) Then
									enemies(enIdx, 0) = enemies(enIdx, 0) + enemies(enIdx, 6) - 32768
								Else
									enemies(enIdx, 10) = 0
								End If
							End If

							'If enemies(enIdx, 0) < 128 Then enemies(enIdx, 0) = 128
							'If enemies(enIdx, 0) > 432 Then enemies(enIdx, 0) = 432
							If enemies(enIdx, 0) < 160 Then enemies(enIdx, 0) = 160
							If enemies(enIdx, 0) > 400 Then enemies(enIdx, 0) = 400
						End If

						' Vert
						If enemies(enIdx, 11) = 0 Then
							If enemies(enIdx, 1) < 160 Then r = 1
							If enemies(enIdx, 1) > 304 Then r = 3
							If r = 1 [OR] r = 2 Then
								enemies(enIdx, 11) = nr << 4
								enemies(enIdx, 7) = 32768 + r
							ElseIf r = 3 [OR] r = 4 Then
								enemies(enIdx, 11) = nr << 4
								enemies(enIdx, 7) = 32768 - (r - 2)
							End If
						Else
							enemies(enIdx, 11) = enemies(enIdx, 11) - 1
							' Move?
							xx = (enemies(enIdx, 0) - 128) >> 4
							yy = (enemies(enIdx, 1) - 120) >> 4
							If enemies(enIdx, 7) > 32768 Then
								If ((enemies(enIdx, 1) And 15) <> 0 [OR] (attr(xx, yy + 1) < 8 [AND] ((enemies(enIdx, 0) And 15) = 0 [OR] attr(xx + 1, yy + 1) < 8))) Then
									enemies(enIdx, 1) = enemies(enIdx, 1) + enemies(enIdx, 7) - 32768
								Else
									enemies(enIdx, 11) = 0
								End If
							Else
								If ((enemies(enIdx, 1) And 15) <> 0 [OR] (attr(xx, yy - 1) < 8 [AND] ((enemies(enIdx, 0) And 15) = 0 [OR] attr(xx + 1, yy - 1) < 8))) Then
									enemies(enIdx, 1) = enemies(enIdx, 1) + enemies(enIdx, 7) - 32768
								Else
									enemies(enIdx, 11) = 0
								End If
							End If

							'If enemies(enIdx, 1) < 144 Then enemies(enIdx, 1) = 144
							'If enemies(enIdx, 1) > 320 Then enemies(enIdx, 1) = 320
							If enemies(enIdx, 1) < 176 Then enemies(enIdx, 1) = 176
							If enemies(enIdx, 1) > 288 Then enemies(enIdx, 1) = 288
						End If
					End If

					' Sprite frame
					If enemies(enIdx, 6) < 32768 Then
						enFacing = 4
					Else
						enFacing = 0
					End If
					
					If level <> 1 Then
						enFrame = (frame_counter >> 4) % 4
					Else
						enFrame = (enemies(enIdx, 0) >> 4) % 4
					End If
					propSprite sprEn(i), en_spr_offs((i << 3) + enFacing + enFrame), 3

				Else
				End If

				Exit Select

			Case 2:
				' Pursuing
				Exit Select

			Case 3:
				' Dying
				enemies(enIdx, 10) = enemies(enIdx, 10) - 1
				If enemies(enIdx, 10) = 0 Then
					enemies(enIdx, 9) = 0
					enemies(enIdx, 8) = 0
					moveSprite sprEn(i), 0, 0
				End If
				enFrame = (frame_counter >> 2) And 1
				propSprite sprEn(i), ex_spr_offs(enFrame), 3
				Exit Select

		End Select
	Next i
End Sub

' For some reason, I have to load this stuff HERE.
' If I do it at the end of the code, the music will sound BAD.
' And I mean BAD as in NASTY BAD.

'' ----------------------------------------------------------------------------
'' XGM Driver by Stef
'' http://devster.proboards.com/thread/1071/add-music-sfx-game-driver
'' ----------------------------------------------------------------------------

declare asm sub z80_loadDriver()
    move.w  #$100,($A11100)         ; Send the Z80 a bus request.
    move.w  #$100,($A11200)
     
    MOVE.L  #(Z80drv_end-Z80drv),D0
    LEA     Z80drv,A0
    MOVE.L  #$A00000,A1
     
@loop:
    MOVE.B  (A0)+, (A1)+
    DBRA    D0, @loop               ; load driver
    
    move.l  #$A01C00,a0             ; point to Z80 sample id table (first entry = silent sample)
    move.l  #NULLpcm,d0             ; d0 = silent sample

    lsr.l   #8,d0
    move.b  d0,(a0)+                ; sample address
    lsr.l   #8,d0
    move.b  d0,(a0)+
    move.b  #$01,(a0)+              ; sample length
    move.b  #$00,(a0)    
     
    move.w  #$000,($A11200)         ; Start Z80 Reset
    move.w  #$000,($A11100)         ; release the Z80 bus

    move.l  #$A00102,a0             ; point to status

@test_ready:
    move.w  #100,d0                 ; 

@wait:
    DBRA    D0, @wait               ; wait a bit
    
    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)         ; End Z80 Reset
    NOP
    NOP
    NOP
    NOP
    NOP

    move.b (a0),d0
    move.w  #$000,($A11100)         ; release the Z80 bus
    
    btst   #7,d0                    ; not yet ready
    beq    @test_ready
end sub
     
declare asm function xgm_isPlayingMusic()
    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
    NOP
    NOP
    NOP
    NOP
    NOP    

    move.b  ($A00102),d0            ; get channel playing status
    andi.l  #$40,d0                 ; keep play XGM bit only
    
    move.w  #$000,($A11100)         ; release the Z80 bus
end function

declare asm sub xgm_startPlayMusic()
	; a1 should point on XGM music

    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
    
    move.l  a3,a0                   ; a0 = reserved $FC array for sample id table
    moveq   #0,d0
     
@loop:                              ; prepare sample id table
    move.w  d0,d1
    add.w   d1,d1   
    add.w   d1,d1
    moveq   #0,d2   
    move.w  0(a1,d1.w),d2           ; get sample addr in song bank table
    rol.w   #8,d2                   ; revert endianess

    cmp.w   #$FFFF,d2               ; is null sample ?
    bne     @not_null
    
    move.l  #NULLpcm,d2
    jmp     @addr_done
    
@not_null:
    addq.w  #1,d2                   ; add offset
    lsl.l   #8,d2                   ; pass to 24 bits
    add.l   a1,d2                   ; transform to absolute address

@addr_done
    lsr.l   #8,d2                   ; get high byte
    move.b  d2,0(a0,d1.w)
    lsr.w   #8,d2                   ; get low byte
    move.b  d2,1(a0,d1.w)
    move.w  2(a1,d1.w),2(a0,d1.w)   ; copy sample length

    addq.w  #1,d0
    cmp.w   #$3F,d0
    bne     @loop

    move.l  #$A01C04,a2             ; destination of sample id table
    lsl.w   #2,d0                   ; set size in bytes
    subq.w  #1,d0
     
@sampleIdLoop:
    move.b (a0)+,(a2)+
    dbra   d0,@sampleIdLoop         ; load sample id table

    move.l  a1,d0                   ; d0 = song address
    add.l   #$100,d0                ; bypass sample id table

    moveq   #0,d2
    move.w  $FC(a1),d2              ; get sample data size
    rol.w   #8,d2                   ; revert endianess
    lsl.l   #8,d2                   ; pass to 24 bits

    add.l   d2,d0                   ; bypass samples data
    addq.l  #4,d0                   ; bypass music data size field
    
    move.l  #$A00104,a2             ; XGM base parameters address

    move.b  d0,0(a2)                ; low byte
    lsr.l   #8,d0
    move.b  d0,1(a2)                ; med low byte
    lsr.l   #8,d0
    move.b  d0,2(a2)                ; med high byte
    lsr.l   #8,d0
    move.b  d0,3(a2)                ; high byte
    
    or.b    #$40,($A00100)          ; send play XGM command

    move.w  #$000,($A11100)         ; release the Z80 bus    
end sub

declare asm sub xgm_resumePlayMusic()
    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
    NOP
    NOP
    NOP
    NOP
    NOP    
    
    or.b    #$20,($A00100)          ; send resume play command

    move.w  #$000,($A11100)         ; release the Z80 bus
end sub

declare asm sub xgm_stopPlayMusic()
    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
    NOP
    NOP
    NOP
    NOP
    NOP    
    
    or.b    #$10,($A00100)          ; send stop play command

    move.w  #$000,($A11100)         ; release the Z80 bus
end sub

declare asm function xgm_isPlayingPCM(d0.w as integer)
    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
    NOP
    NOP
    NOP
    NOP
    NOP    

    and.b   ($A00102),d0            ; get channel playing status
    
    move.w  #$000,($A11100)         ; release the Z80 bus
end function

declare asm sub xgm_playPCM()
	; a1 should point on PCM sample
	; d1 should contains PCM length
	; d2 should contains channel and priority informations: (prio << 4) | channel

    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
    
    move.l  (__LONG_pcmid),d0
    lsl.l   #2,d0
    lea     $A01C00,a0
    adda.l  d0,a0                   ; a0 point on id table entry
    
    move.l  a1,d0                   ; d0 = sample address
    
    lsr.l   #8,d0                   ; get sample address (high byte)
    move.b  d0,(a0)+
    lsr.w   #8,d0                   ; get sample address (low byte)
    move.b  d0,(a0)+
    lsr.l   #8,d1                   ; get sample length (high byte)
    move.b  d1,(a0)+
    lsr.w   #8,d1                   ; get sample length (low byte)
    move.b  d1,(a0)+
    
    move.l  d2,d0
    and.l   #3,d0                   ; d0 = channel number
    
    lea     $A00100,a0
    moveq   #1,d1    
    lsl.l   d0,d1                   ; d1 = channel shift command
    or.b    d1,(a0)                 ; set PCM play command
    
    lea     $A00108,a0   
    add.l   d0,d0
    adda.l  d0,a0                   ; a0 point on channel info

    move.l  d2,d0
    lsr.l   #4,d0
    and.l   #$F,d0                  ; d0 = priority
    
    move.b  d0,(a0)+                ; set priority
    
    move.l  (__LONG_pcmid),d0       ; d0 = PCM id

    move.b  d0,(a0)                 ; set PCM id

    addq.l  #1,d0  
    and.l   #$FF,d0                
    or.l   #$40,d0                  ; id < 0x40 are reserved for music
    move.l  d0,(__LONG_pcmid)       ; pass to next id

    move.w  #$000,($A11100)         ; release the Z80 bus
end sub

declare asm sub xgm_stopPCM()
	; d2 should contains channel number
	
    move.w  #$100,($A11100)         ; Send the Z80 a bus request
    move.w  #$100,($A11200)
        
    move.l  d2,d0
    and.l   #3,d0                   ; d0 = channel number
    
    lea     $A00100,a0
    moveq   #1,d1    
    lsl.l   d0,d1                   ; d1 = channel shift command
    or.b    d1,(a0)                 ; set PCM play command
    
    lea     $A00108,a0   
    add.l   d0,d0
    adda.l  d0,a0                   ; a0 point on channel info

    moveq   #0,d0
    move.b  d0,(a0)+                ; set priority
    move.b  d0,(a0)                 ; set PCM id

    move.w  #$000,($A11100)         ; release the Z80 bus
end sub


'' These files are the OGT.
'' XGM music and PCM sound effects.

    asm
    
Z80drv:                             ; Z80 XGM driver
    INCBIN  "xgm\z80_xgm.bin"
Z80drv_end:

    align 256
NULLpcm:
    INCBIN  "xgm\null.raw"
NULLpcm_end:

;; OGT by Davidian
    align 256
LOOPpcm:
    INCBIN  "..\..\testxgm\loop.raw"
LOOPpcm_end:

;; SFX by Davidian

	align 256
PcmAh:
	INCBIN "..\..\Perils\ogt\murcia\raw\ah.raw"
PcmAh_end:

	align 256
PcmBlam:
	INCBIN "..\..\Perils\ogt\murcia\raw\blam.raw"
PcmBlam_end:

	align 256
PcmBolt:
	INCBIN "..\..\Perils\ogt\murcia\raw\bolt.raw"
PcmBolt_end:

	align 256
PcmCountDown:
	INCBIN "..\..\Perils\ogt\murcia\raw\countdown.raw"
PcmCountDown_end:

	align 256
PcmDaleFran:
	INCBIN "..\..\Perils\ogt\murcia\raw\dalefran.raw"
PcmDaleFran_end:

	align 256
PcmFinalCountdown:
	INCBIN "..\..\Perils\ogt\murcia\raw\final_countdown.raw"
PcmFinalCountdown_end:

	align 256
PcmHit:
	INCBIN "..\..\Perils\ogt\murcia\raw\hit.raw"
PcmHit_end:

	align 256
PcmJump:
	INCBIN "..\..\Perils\ogt\murcia\raw\jump.raw"
PcmJump_end:

	align 256
PcmKey:
	INCBIN "..\..\Perils\ogt\murcia\raw\key.raw"
PcmKey_end:	

	align 256
PcmLife:	
	INCBIN "..\..\Perils\ogt\murcia\raw\life.raw"
PcmLife_end:	

	align 256
PcmNo:	
	INCBIN "..\..\Perils\ogt\murcia\raw\no.raw"
PcmNo_end:	

	align 256
PcmObject:	
	INCBIN "..\..\Perils\ogt\murcia\raw\object.raw"
PcmObject_end:	

	align 256
PcmPowerOff:
	INCBIN "..\..\Perils\ogt\murcia\raw\14_power_off.raw"
PcmPowerOff_end:	

	align 256
PcmSelect:	
	INCBIN "..\..\Perils\ogt\murcia\raw\select.raw"
PcmSelect_end:	

	align 256
PcmSpike:	
	INCBIN "..\..\Perils\ogt\murcia\raw\spike.raw"
PcmSpike_end:	

	align 256
PcmStart:	
	INCBIN "..\..\Perils\ogt\murcia\raw\start.raw"
PcmStart_end:	

	align 256
PcmBarril:	
	INCBIN "..\..\Perils\ogt\murcia\raw\17_barrel.raw"
PcmBarril_end:	

	align 256
PcmPause:	
	INCBIN "..\..\Perils\ogt\murcia\raw\18_pause.raw"
PcmPause_end:	

    align 256
XgmNtscCuts:
	INCBIN "..\..\Perils\ogt\ntsc_cuts.xgc"
    
    align 256
XgmNtscCut1:
	INCBIN "..\..\Perils\ogt\ntsc_cut_1.xgc"	

	align 256
XgmNtscEnding:
	INCBIN "..\..\Perils\ogt\ntsc_ending.xgc"

	align 256
XgmNtscFinalBattleBonus:
	INCBIN "..\..\Perils\ogt\ntsc_final_battle_bonus.xgc"

	align 256
XgmNtscFsclear:
	INCBIN "..\..\Perils\ogt\ntsc_fsclear.xgc"

	align 256
XgmNtscGover:
	INCBIN "..\..\Perils\ogt\ntsc_gover.xgc"

	align 256
XgmNtscSclear:
	INCBIN "..\..\Perils\ogt\ntsc_sclear.xgc"

	align 256
XgmNtscStage01:
	INCBIN "..\..\Perils\ogt\ntsc_stage_01.xgc"

	align 256
XgmNtscStage02:
	INCBIN "..\..\Perils\ogt\ntsc_stage_02.xgc"

	align 256
XgmNtscStage03:
	INCBIN "..\..\Perils\ogt\ntsc_stage_03.xgc"

	align 256
XgmNtscTitle:
	INCBIN "..\..\Perils\ogt\ntsc_title.xgc"

    align 256
XgmPalCuts:
	INCBIN "..\..\Perils\ogt\pal_cuts.xgc"
	
    align 256
XgmPalCut1:
	INCBIN "..\..\Perils\ogt\pal_cut_1.xgc"

	align 256
XgmPalEnding:
	INCBIN "..\..\Perils\ogt\pal_ending.xgc"

	align 256
XgmPalFinalBattleBonus:
	INCBIN "..\..\Perils\ogt\pal_final_battle_bonus.xgc"

	align 256
XgmPalFsclear:
	INCBIN "..\..\Perils\ogt\pal_fsclear.xgc"

	align 256
XgmPalGover:
	INCBIN "..\..\Perils\ogt\pal_gover.xgc"

	align 256
XgmPalSclear:
	INCBIN "..\..\Perils\ogt\pal_sclear.xgc"

	align 256
XgmPalStage01:
	INCBIN "..\..\Perils\ogt\pal_stage_01.xgc"

	align 256
XgmPalStage02:
	INCBIN "..\..\Perils\ogt\pal_stage_02.xgc"

	align 256
XgmPalStage03:
	INCBIN "..\..\Perils\ogt\pal_stage_03.xgc"

	align 256
XgmPalTitle:
	INCBIN "..\..\Perils\ogt\pal_title.xgc"	
	


    end asm


'' And now more code. Beautiful.

Declare Function select_level()
	prepareMyGameStuff
	
	SetGFXPlane SCROLL_B
	Cls
	SetGFXPlane SCROLL_A
	Cls
	Reload debug_text_1
	titlePrnTxt 5, 8
	Reload debug_text_3
	titlePrnTxt 7, 10
	Reload debug_text_2
	titlePrnTxt 7, 12
	Reload debug_text_4
	titlePrnTxt 7, 14

	DrawTilesInc2 96, 0, 18, 10, 2

	dothis = 1
	pressed = 0
	res = 1
	Do
		moveSprite sprHeart, 128 + 40, 128 + (8 * 8) + (res * 16)
		j = joypad()
		If j.0 [AND] res > 1 [AND] pressed <> 1 Then
			pressed = 1
			res = res - 1
			playSound 13
		End If
		If j.1 [AND] res < 3 [AND] pressed <> 2 Then
			pressed = 2
			res = res + 1
			playSound 13
		End If
		If j.4 [OR] j.5 [OR] j.6 [OR] j.7 Then dothis = 0
		If j = 0 Then pressed = 0
	Loop While dothis = 1
	moveSprite sprHeart, 0, 0
	playSound 12
	sleep 60				' Let the sound ring...
	Return res
End Select

'' Does resonators
Declare Sub do_resonators()
	x = plX >> 6
	y = plY >> 6

	If resnOn = 0 Then
		If x >= resnX - 15 [AND] x <= resnX + 15 Then
			If y >= resnY - 24 [AND] y <= resnY - 16 Then
				If plVY > 32768 Then
					resnOn = 1
					resnCt = 9
					resnCtFrames = 0
					propSprite sprResn, 1097, 3
					set_pal_bw
					plVY = 32608
					playSound 8
					'resnCtShow = 1
				End If
			End If
		End If
	Else
		' Press but no action
		'If x >= resnX - 15 [AND] x <= resnX + 15 Then
		'	If y >= resnY - 24 [AND] y <= resnY - 16 Then
		'		If plVY > 32768 Then
		'			plVY = 32608
		'		End If
		'	End If
		'End If

		' Paint countdown
		propSprite sprResnCd, cd_spr_offs(resnCt), 0
		If resnCtShow = 1 Then
			moveSprite sprResnCd, resnX + 4, resnY + 8
		Else
			moveSprite sprResnCd, 0, 0
		End If

		resnCtFrames = resnCtFrames + 1
		If resnCt <= 3 [AND] resnCtFrames = resnFrames / 2 Then playSound 15
		If resnCtFrames >= resnFrames Then
			resnCtFrames = 0
			If resnCt > 0 Then
				If resnCt = 5 Then 
					playSound 14
				End If
				If resnCt = 1 Then
					playSound 16
				Else
					playSound 15
				End If
				resnCt = resnCt - 1
			Else
				resnOn = 0
				propSprite sprResn, 1088, 3
				moveSprite sprResnCd, 0, 0
				set_pal_nm
			End If
		End If
	End If
End Sub

Declare Sub set_pal_bw()
	Select Case level
		Case 1:
			Pallettes palletteData_setfg_1_bw, 1, 0, 16
			Pallettes palletteData_setbg_1_bw, 2, 0, 16
			Pallettes palletteData_spriteset_1_bw, 3, 0, 16
			Exit Select
		Case 2:
			Pallettes palletteData_setfg_2_bw, 1, 0, 16
			Pallettes palletteData_setbg_2_bw, 2, 0, 16
			Pallettes palletteData_spriteset_2_bw, 3, 0, 16
			Exit Select
		Case 3:
			Pallettes palletteData_setfg_3_bw, 1, 0, 16
			Pallettes palletteData_setbg_3_bw, 2, 0, 16
			Pallettes palletteData_spriteset_3_bw, 3, 0, 16
			Exit Select
		Case 4:
			Pallettes palletteData_setfg_4_bw, 1, 0, 16
			Pallettes palletteData_setbg_4_bw, 2, 0, 16
			Pallettes palletteData_spriteset_4_bw, 3, 0, 16
			Exit Select
		Case 5:
			Pallettes palletteData_setfg_5_bw, 1, 0, 16
			Pallettes palletteData_setbg_5_bw, 2, 0, 16
			Pallettes palletteData_spriteset_5_bw, 3, 0, 16
			Exit Select
	End Select
End Sub

Declare Sub set_pal_nm()
	Select Case level
		Case 1:
			Pallettes palletteData_setfg_1, 1, 0, 16
			Pallettes palletteData_setbg_1, 2, 0, 16
			Pallettes palletteData_spriteset_1, 3, 0, 16
			Exit Select
		Case 2:
			Pallettes palletteData_setfg_2, 1, 0, 16
			Pallettes palletteData_setbg_2, 2, 0, 16
			Pallettes palletteData_spriteset_2, 3, 0, 16
			Exit Select
		Case 3:
			Pallettes palletteData_setfg_3, 1, 0, 16
			Pallettes palletteData_setbg_3, 2, 0, 16
			Pallettes palletteData_spriteset_3, 3, 0, 16
			Exit Select
		Case 4:
			Pallettes palletteData_setfg_4, 1, 0, 16
			Pallettes palletteData_setbg_4, 2, 0, 16
			Pallettes palletteData_spriteset_4, 3, 0, 16
			Exit Select
		Case 5:
			Pallettes palletteData_setfg_5, 1, 0, 16
			Pallettes palletteData_setbg_5, 2, 0, 16
			Pallettes palletteData_spriteset_5, 3, 0, 16
			Exit Select
	End Select
End Sub

'' Load the correct sprite frames for enemies from ROM to VRAM
'' (based on enemy type in current screen)
Declare Sub load_spr_tiles(n_enem As Integer, n_sprite As Integer)
	' Loads 72 tiles into n_enem tileset
	Local vram_offset As Integer
	Local tileset_offset As Integer
	vram_offset = 620 + (n_enem * 72)
	tileset_offset = 108 + (n_sprite * 72)
	Select Case level
		Case 1:
			LoadTiles tileData_spriteset_1, 72, vram_offset, tileset_offset
			Exit Select
		Case 2:
			LoadTiles tileData_spriteset_2, 72, vram_offset, tileset_offset
			Exit Select
		Case 3:
			LoadTiles tileData_spriteset_3, 72, vram_offset, tileset_offset
			Exit Select
		Case 4:
			LoadTiles tileData_spriteset_4, 72, vram_offset, tileset_offset
			Exit Select
		Case 5:
			LoadTiles tileData_spriteset_5, 72, vram_offset, tileset_offset
			Exit Select
	End Select
End Sub

'' Draws a tile layer. Auxiliary to draw_scr.
Declare Sub draw_layer(pal As Integer, beh As Integer)
	' Point to current screen:
	offsetL& = 260 * n_pant
	DataPtr& = DataPtr&()+offsetL&
	estrujIdx = 0

	' Draw 260 tiles:
	x = 0
	y = 0
	idx = 0
	For tilesctr = 1 To 260
		Read tile
		If beh = 1 Then
			pattr(x, y) = behaviours(tile)
			'' Detect estrujator
			If estrujs_on = 1 Then
				If tile >= 43 [AND] tile <= 45 Then
					' 0:x 1:y 2:state 3:steps 4:ct 5:maxct 6:aux
					estruj(estrujIdx, 0) = x + x
					estruj(estrujIdx, 1) = 3 + y + y
					estruj(estrujIdx, 2) = 0
					estruj(estrujIdx, 3) = 0
					estruj(estrujIdx, 4) = 0
					estruj(estrujIdx, 5) = 32 * (tile - 42)
					estrujIdx = estrujIdx + 1
				End If
			End If
		End If
		tile = tile << 2
		If beh = 0 [AND] level > 3 [AND] x < 24 Then DrawTilesInc 256 + tile + Pallette (pal), 40 + x + x, 1 + y + y, 2, 2
		DrawTilesInc 256 + tile + Pallette (pal), x + x, 1 + y + y, 2, 2

		x = x + 1
		If x = 20 Then
			x = 0
			y = y + 1
		End If
	Next tilesctr
End Sub

Declare Sub move_estruj
	
	For i = 0 To 7
		' 0:x 1:y 2:state 3:steps 4:ct 5:maxct 6:aux
		If estruj(i, 2) = 0 Then

			' 256 + 47*4 = 444
			DrawTilesInc 444 + Pallette (1), estruj(i, 0), estruj(i, 1), 2, 2
			' xx = estruj(i, 0) >> 1
			' yy = (estruj(i, 1) - 1) >> 1
			' pattr(xx, yy) = 0
			estruj(i, 4) = estruj(i, 4) + 1
			If estruj(i, 4) >= estruj(i, 5) Then
				estruj(i, 2) = 1
				estruj(i, 3) = 0
			End If
		ElseIf estruj(i, 2) = 1 Then
			estruj(i, 3) = estruj(i, 3) + 1
			For tr = 0 To estruj(i, 3) - 1
				DrawTilesInc 440 + Pallette (1), estruj(i, 0), estruj(i, 1) + tr, 2, 1
			Next tr
			DrawTilesInc 444 + Pallette (1), estruj(i, 0), estruj(i, 3) + estruj(i, 1), 2, 2
			xx = estruj(i, 0) >> 1
			yy = (estruj(i, 3) + estruj(i, 1) - 1) >> 1
			pattr(xx, yy) = 8
			If estruj(i, 3) = 4 Then
				estruj(i, 2) = 2
				estruj(i, 4) = 0
				playSound 9
			End If
		ElseIf estruj(i, 2) = 2 Then
			estruj(i, 4) = estruj(i, 4) + 1
			If estruj(i, 4) >= 25 Then
				estruj(i, 2) = 3
			End If
		ElseIf estruj(i, 2) = 3 Then
			xx = estruj(i, 0) >> 1
			yy = (estruj(i, 3) + estruj(i, 1) - 1) >> 1
			pattr(xx, yy) = 0

			estruj(i, 3) = estruj(i, 3) - 1
			If estruj(i,3)<>0 Then
				For tr = 0 To estruj(i, 3) - 1
					DrawTilesInc 440 + Pallette (1), estruj(i, 0), estruj(i, 1) + tr, 2, 1
				Next tr
			End If
			DrawTilesInc 444 + Pallette (1), estruj(i, 0), estruj(i, 3) + estruj(i, 1), 2, 2

			DrawTilesInc 256, estruj(i, 0), estruj(i, 3) + estruj(i, 1) + 2, 2, 1
			If estruj(i, 3) = 0 Then
				estruj(i, 2) = 0
				estruj(i, 4) = 0
			End If
		End If
		'' collisions
		If estruj(i,2) = 1 Then
			xb0 = 132 + (estruj(i, 0) << 3)
			yb0 = 120 + (estruj(i, 1) << 3)
			xb1 = xb0 + 8
			yb1 = yb0 + ((2 + estruj(i, 3)) << 3) - 1
			x = plX >> 6
			y = plY >> 6
			If x >= xb0 - 15 [AND] x <= xb1 Then
				If y >= yb0 [AND] y <= yb1 Then
					one_life_less
					If plVX > 32768 Then
						plVX = 32768 - 128
					Else
						plVX = 32768 + 128
					End If
					playSound 3
				End If
			End If
		End If
	Next i
End Sub

'' Loads behaviours into RAM
Declare Sub load_behaviours
	DataPtr& = ptrBeh&
	For i = 0 To 47
		readInt behaviours(i)
	Next i
End Sub

''
Declare Sub scrolly_effect
	macoca = half_life
	For i = 1 To 26
		If macoca = 1 Then 
			Scroll2 Right, (sine_table_16(((frame_counter) + i) And 63) - 4) >> 1, i
		Else
			Scroll2 Right, (sine_table_16(((frame_counter) + i + 32) And 63) - 4) >> 1, i
		End If
		macoca = 1 - macoca
		If i < 21 Then Scroll2 Up, (sine_table_16(((frame_counter) + i + 2 ) And 63) - 4) >> 1, i - 1
	Next i
End Sub

'' BEX is slow, so a different scrolly effect is needed for NTSC
Declare Sub scrolly_effect_ntsc
	
End Sub

''
Declare Sub scrolly_reset
	For i = 1 To 26
		Scroll2 Right, 0, i
		If i < 21 Then Scroll2 Up, 0, i - 1
	Next i
End Sub

'' Returns cell behaviour
Declare Function attr(atx, aty)
	If atx > 19 [OR] aty > 12 Then Return 0
	Return pattr(atx, aty)
End Function

'' Heart (simple) animation and collision check
Declare Sub move_heart()
	If heartAct = 0 Then Exit Sub
	If half_life = 0 Then heartX = heartX - 1
	r = Rnd(2)
	If r = 0 Then
		heartY = heartY - 1
	ElseIf r = 1 Then
		heartY = heartY + 1
	End If
	If heartX = 112 Then heartAct = 0

	' Don't show nor collide if not on current screen
	If heartNPant <> n_pant Then Exit Sub

	moveSprite sprHeart, heartX, heartY

	' Collide
	x = plX >> 6
	y = 8 + (plY >> 6)
	If y >= heartY - 15 [AND] y <= heartY + 15 Then
		If x >= heartX - 15 [AND] x <= heartX + 15 Then
			heartAct = 0
			moveSprite sprHeart, 0, 0
			plLife = plLife + 1
			hud
			playSound 6
		End If
	End If
End Sub

'' Precalculates mx or my upon boundary values
'' for lineal movement enemies
Declare Function directn(dir_a, dir_b, dir_v)
	If dir_a = dir_b Then
		res = 32768
	ElseIf dir_a > dir_b Then
		res = 32768 + dir_v
	Else
		res = 32768 - dir_v
	End If
	Return res
End Function

'' Load extra objects (keys/bolts/blocks...) into RAM
Declare Sub load_extra_objects()

	DataPtr& = ptrExtra&

	For i = 0 To 287
		Read d	' type
		extra_objects(i,4) = d

		Read d	' x, rx
		extra_objects(i,0) = d
		extra_objects(i,2) = 128 + (d << 4)
		Read d	' y, ry
		extra_objects(i,1) = d
		extra_objects(i,3) = 136 + (d << 4)
	Next i
End Sub

'' Aux (used in hud)
Declare Sub print_num1(pn1n As Integer, pn1v As Integer)
	If pn1v > 9 Then pn1v = 9
	propSprite hudSprs(pn1n), 128 + pn1v + pn1v, 0
End Sub

'' Aux (used in hud)
Declare Sub print_num2(pn2n As Integer, pn2v As Integer)
	If pn2v > 99 Then pn2v = 99
	v1 = pn2v / 10
	v2 = pn2v % 10
	propSprite hudSprs(pn2n), 128 + v1 + v1, 0
	propSprite hudSprs(pn2n + 1), 128 + v2 + v2, 0
End Sub

'' Detects the player getting out of the screen (flick screen)
Declare Sub change_screen
	j = joypad();

'	If j.2 Then
'		' 128 * 64 = 8192
'		If plX <= 8192 Then
'			nn_pant = n_pant - 1
'			' (128 + 304) * 64
'			plX = 27648
'		End If
'	ElseIf j.3 Then
'		If plX >=27648 Then
'			nn_pant = n_pant + 1
'			plX = 8192
'		End If
'	End If

	If plX < 8192 Then
		nn_pant = n_pant - 1
		plX = 27648
		Exit Sub
	End If
	If plX > 27648 Then
		nn_pant = n_pant + 1
		plX = 8192
		Exit Sub
	End If

	If plVY < 32768 [AND] plY <= 8192 [AND] n_pant >= #map_w Then
		nn_pant = n_pant - #map_w
		' (128 + 192) * 64
		plY = 20480 - 256
		Exit Sub
	End If
	If plVY > 32768 [AND] plY >= 20480 Then
		nn_pant = n_pant + #map_w
		plY = 8192
		Exit Sub
	End If
End Sub

'' Substracts one life and makes the player flicker
Declare Sub one_life_less()
	If plFlicker = 0 Then
		plFlicker = 1
		plCtr = 120
		plLife = plLife - 1
		hud
		playSound 2
	End If
End Sub

Declare Sub showattr
	For say = 0 To 12
		For sax = 0 To 19
			DrawTile 48 + pattr(sax, say), sax+sax, 1 + say+say
		Next sax
	Next say
End Sub

'' Fixes movable stuff when changing screens
Declare Sub fix_movables
	' Movable blocks
	' 0:x 1:y 2:rx 3:ry 4:type 5:state{0 idle, 1 moving, ...} 6:dx
	For fix_i = 0 To 7
		exIdx = exoffs + fix_i
		If extra_objects(exIdx, 5) <> 0 Then
			extra_objects(exIdx, 5) = 0
			extra_objects(exIdx, 2) = extra_objects(exIdx, 0) << 4
		End If
	Next fix_i

	' Dying enemies
	' 0:x 1:y 2:x1 3:y1 4:x2 5:y2 6:mx 7:my 8:t 9:st 10:ct 11:ct2
	For fix_i = 0 To 3
		enIdx = enoffs + fix_i
		If enemies(enIdx, 9) = 3 Then
			enemies(enIdx, 9) = 0
			enemies(enIdx, 8) = 0
		End If
	Next fix_i

	'' Heart
	moveSprite sprHeart, 0, 0
End Sub

'' Prepares level, sets up pointers, loads graphics and pals,
'' loads structures into RAM, etc.
Declare Sub prepare_level
	Select Case level
		Case 1:
			estrujs_on = 0
			GAME_B = 1

			' Pointers
			ptrMap0& = LblPtr&(map_layer_0_1)
			ptrMap1& = LblPtr&(map_layer_1_1)
			ptrExtra& = LblPtr&(map_extra_1)
			ptrEnems& = LblPtr&(enemy_Data_1)
			ptrBeh& = LblPtr&(behaviours_Data_1)
			ptrResn& = LblPtr&(resonator_Data_1)

			' Load palettes
			Pallettes palletteData_setfg_1, 1, 0, 16
			Pallettes palletteData_setbg_1, 2, 0, 16
			Pallettes palletteData_spriteset_1, 3, 0, 16

			' 256 - onwards: tiles bg (192) & fg (64)
			LoadTiles tileData_setfg_1, 192, 256
			LoadTiles tileData_setbg_1, 64, 448

			' 512 - onwards: sprites (X)
			' 108 tiles for main characters.
			' 72x3 = 288 tiles reserved for four enemies
			' 18 tiles for two explosion frames (offset 540 in global set)
			' 18 tiles for two platform frames (right after)
			' 72 tiles for game over (offset 576 in global set; load to 944)
			' 45 tiles for great!! (offset 648 in global set; load to 1016
			' 27 tiles for floating dirty animation (offset 693 in global set; load to 1061
			' 18 tiles for resonator OFF/ON (offset 720 in global set; load to 1088)
			' 27 tiles for hit frames (offset 738 in global set; load to 1106)
			LoadTiles tileData_spriteset_1, 108, 512
			LoadTiles tileData_spriteset_1, 36, 908, 540
			LoadTiles tileData_spriteset_1, 72, 944, 576
			LoadTiles tileData_spriteset_1, 45, 1016, 648
			LoadTiles tileData_spriteset_1, 27, 1061, 693
			LoadTiles tileData_spriteset_1, 18, 1088, 720
			loadTiles tileData_spriteset_1, 27, 1106, 738

			' In sum:
			' Player frames at 512
			' Enemy frames at 620, 692, 764 and 836
			' Explosion frames at 908 and 917.
			' Platform frames at 926 and 935
			' Game Over at 944
			' Great! At 1016
			' Dirty at 1061
			' Resonator at 1088
			' Hit at 1106

			s_pant = 30
			plX = ((1 << 4) + 128) << 6
			plY = ((9 << 4) + 128) << 6
			heartFreq = 7
			plNenem = 33

			' Music

			'Reload musicDataLevel1	'' %% Insert which track here
			'Gosub tfdPlayInit

			Exit Select

		Case 2:
			estrujs_on = 1
			GAME_B = 1

			ptrMap0& = LblPtr&(map_layer_0_2)
			ptrMap1& = LblPtr&(map_layer_1_2)
			ptrExtra& = LblPtr&(map_extra_2)
			ptrEnems& = LblPtr&(enemy_Data_2)
			ptrBeh& = LblPtr&(behaviours_Data_2)
			ptrResn& = LblPtr&(resonator_Data_2)
			Pallettes palletteData_setfg_2, 1, 0, 16
			Pallettes palletteData_setbg_2, 2, 0, 16
			Pallettes palletteData_spriteset_2, 3, 0, 16
			LoadTiles tileData_setfg_2, 192, 256
			LoadTiles tileData_setbg_2, 64, 448
			LoadTiles tileData_spriteset_2, 108, 512
			LoadTiles tileData_spriteset_2, 36, 908, 540
			LoadTiles tileData_spriteset_2, 72, 944, 576
			LoadTiles tileData_spriteset_2, 45, 1016, 648
			LoadTiles tileData_spriteset_2, 27, 1061, 693
			LoadTiles tileData_spriteset_2, 18, 1088, 720
			loadTiles tileData_spriteset_2, 27, 1106, 738
			s_pant = 5
			plX = ((4 << 4) + 128) << 6
			plY = ((4 << 4) + 128) << 6
			heartFreq = 3
			plNenem = 90
			'Reload musicDataLevel3	'' %% Insert which track here
			'Gosub tfdPlayInit
			Exit Select

		Case 3:
			estrujs_on = 0
			GAME_B = 1

			ptrMap0& = LblPtr&(map_layer_0_3)
			ptrMap1& = LblPtr&(map_layer_1_3)
			ptrExtra& = LblPtr&(map_extra_3)
			ptrEnems& = LblPtr&(enemy_Data_3)
			ptrBeh& = LblPtr&(behaviours_Data_3)
			ptrResn& = LblPtr&(resonator_Data_3)
			Pallettes palletteData_setfg_3, 1, 0, 16
			Pallettes palletteData_setbg_3, 2, 0, 16
			Pallettes palletteData_spriteset_3, 3, 0, 16
			LoadTiles tileData_setfg_3, 192, 256
			LoadTiles tileData_setbg_3, 64, 448
			LoadTiles tileData_spriteset_3, 108, 512
			LoadTiles tileData_spriteset_3, 36, 908, 540
			LoadTiles tileData_spriteset_3, 72, 944, 576
			LoadTiles tileData_spriteset_3, 45, 1016, 648
			LoadTiles tileData_spriteset_3, 27, 1061, 693
			LoadTiles tileData_spriteset_3, 18, 1088, 720
			loadTiles tileData_spriteset_3, 27, 1106, 738
			s_pant = 30
			plX = ((1 << 4) + 128) << 6
			plY = ((3 << 4) + 128) << 6
			heartFreq = 7
			plNenem = 90
			'Reload musicDataLevel2	'' %% Insert which track here
			'Gosub tfdPlayInit
			Exit Select
			
		Case 4:
			estrujs_on = 0
			GAME_B = 1

			' Pointers
			ptrMap0& = LblPtr&(map_layer_0_4)
			ptrMap1& = LblPtr&(map_layer_1_4)
			ptrExtra& = LblPtr&(map_extra_4)
			ptrEnems& = LblPtr&(enemy_Data_4)
			ptrBeh& = LblPtr&(behaviours_Data_4)
			ptrResn& = LblPtr&(resonator_Data_4)

			' Load palettes
			Pallettes palletteData_setfg_4, 1, 0, 16
			Pallettes palletteData_setbg_4, 2, 0, 16
			Pallettes palletteData_spriteset_4, 3, 0, 16

			' 256 - onwards: tiles bg (192) & fg (64)
			LoadTiles tileData_setfg_4, 192, 256
			LoadTiles tileData_setbg_4, 64, 448

			LoadTiles tileData_spriteset_4, 108, 512
			LoadTiles tileData_spriteset_4, 36, 908, 540
			LoadTiles tileData_spriteset_4, 72, 944, 576
			LoadTiles tileData_spriteset_4, 45, 1016, 648
			LoadTiles tileData_spriteset_4, 27, 1061, 693
			LoadTiles tileData_spriteset_4, 18, 1088, 720
			loadTiles tileData_spriteset_4, 27, 1106, 738

			s_pant = 5
			plX = ((9 << 4) + 128) << 6
			plY = ((2 << 4) + 128) << 6
			heartFreq = 7
			plNenem = 33

			Exit Select
			
		Case 5:
			estrujs_on = 1
			GAME_B = 1

			ptrMap0& = LblPtr&(map_layer_0_5)
			ptrMap1& = LblPtr&(map_layer_1_5)
			ptrExtra& = LblPtr&(map_extra_5)
			ptrEnems& = LblPtr&(enemy_Data_5)
			ptrBeh& = LblPtr&(behaviours_Data_5)
			ptrResn& = LblPtr&(resonator_Data_5)
			Pallettes palletteData_setfg_5, 1, 0, 16
			Pallettes palletteData_setbg_5, 2, 0, 16
			Pallettes palletteData_spriteset_5, 3, 0, 16
			LoadTiles tileData_setfg_5, 192, 256
			LoadTiles tileData_setbg_5, 64, 448
			LoadTiles tileData_spriteset_5, 108, 512
			LoadTiles tileData_spriteset_5, 36, 908, 540
			LoadTiles tileData_spriteset_5, 72, 944, 576
			LoadTiles tileData_spriteset_5, 45, 1016, 648
			LoadTiles tileData_spriteset_5, 27, 1061, 693
			LoadTiles tileData_spriteset_5, 18, 1088, 720
			loadTiles tileData_spriteset_5, 27, 1106, 738
			s_pant = 5
			plX = ((18 << 4) + 128) << 6
			plY = ((7 << 4) + 128) << 6
			heartFreq = 3
			plNenem = 90
			'Reload musicDataLevel3	'' %% Insert which track here
			'Gosub tfdPlayInit
			Exit Select
	End Select

	plVX = 32768	' mimmick negative numbers
	plVY = 32768
	plFacing = 0
	plFrame = 0
	plLife = 10
	plJumping = 0
	plGotten = 0
	plJumpCtr = 0
	plFlicker = 0
	plCtr = 0
	plKeys = 0
	plKilled = 0

	' load enemies in RAM
	load_enemies

	' load extra objects in RAM
	load_extra_objects

	' Load tile behaviours
	load_behaviours
End Sub

'' Win level animation
Declare Sub win_level
	If xgm_isPlayingMusic Then xgm_stopPlayMusic
	'1016
	Dim sprGreat(4) as Integer
	For i = 0 To 4
		sprGreat(i) = AddSprite (3, 3)
		PropSprite sprGreat(i), 1016 + (i * 9), 3
		moveSprite sprGreat(i), 128 + (24 * i) + 100, 224
	Next i

	While joypad().6: Wend
	
	If ntscTimings = 1 Then
		asm     
			lea XgmNtscSclear, a1
		end asm
	Else
		asm     
			lea XgmPalSclear, a1
		end asm
	End If
	xgm_startPlayMusic
	
	If ntscTimings = 1 Then
		frctr = 420
	Else
		frctr = 350
	End If
	
	Do
		' For some BEX reason, this won't work for levels 3 & 4. WTF!?
		' Sleep 1
		' So I've added this (see below for credits) 
		vSync
		
		If frctr > 0 Then frctr = frctr - 1 else exit do
		Locate 0,0: Print frctr
		If plY > 64 Then plY = plY - 48
		If plFacing = 0 Then plX=plX+2 Else plX=plX-2
		propSprite sprPl, fl_spr_offs(((plY>>6)>>3) And 3), 3
		moveSprite sprPl, (plX >> 6) - 4, (plY >> 6)
		move_enems
		If estrujs_on = 1 Then move_estruj
		For mli = 0 To 3
			If enemies(enoffs + mli, 8) Then moveSprite SprEn(mli), enemies(enoffs + mli, 0) - 4, enemies(enoffs + mli, 1)
		Next mli
	Loop

	xgm_stopPlayMusic
	
	For i = 0 To 4
		FreeSprite sprGreat(i)
	Next i
End Sub

'' Game over animation
Declare Sub game_over
	If xgm_isPlayingMusic Then xgm_stopPlayMusic
	moveSprite sprPl, 0, 0
	PlaySound 2

	Dim sprGameOver(7) as Integer
	For i = 0 To 7
		sprGameOver(i) = AddSprite (3, 3)
		PropSprite sprGameOver(i), 944 + (i * 9), 3
		moveSprite sprGameOver(i), 128 + (24 * i) + 64, 224
	Next i

	While joypad().6: Wend
	
	If ntscTimings = 1 Then
		asm     
			lea XgmNtscGover, a1
		end asm
	Else
		asm
			lea XgmPalGover, a1
		end asm
	End If
	xgm_startPlayMusic
	
	Do
		sleep 1
		move_enems
		If estrujs_on = 1 Then move_estruj
		For mli = 0 To 3
			If enemies(enoffs + mli, 8) Then moveSprite SprEn(mli), enemies(enoffs + mli, 0) - 4, enemies(enoffs + mli, 1)
		Next mli
		j = joypad()
		If j.4 [OR] j.5 [OR] j.6 [OR] j.7 Then Exit Do
	Loop
	
	xgm_stopPlayMusic

	For i = 0 To 7
		FreeSprite sprGameOver(i)
	Next i
End Sub

'' Pause button
Declare Sub pause_button
	If joypad().7 Then
		While joypad().7: Wend
		xgm_stopPlayMusic
		Do
			If joypad().7 Then Exit Do
		Loop
		While joypad().7: Wend
		playSound 11
		Sleep 30
		xgm_resumePlayMusic
	End If
End Sub

'' Title subs
Declare Sub titlePrnTxt(x, y)
	Do
		ReadInt a
		If a = 0 Then Exit Do
		DrawTile Pallette(2) + a, x, y
		x = x + 1
	Loop
End Sub

Declare Sub title
	YOffs = 3

	' Load stuff
	Disable Screen

	SetGFXPlane SCROLL_B
	Cls

	Pallettes ti_sca_pd, 1, 0, 16
	LoadTiles ti_sca_td, 48, 256

	For ty = 0 To 29
		For tx = 0 To 39
			DrawTile Pallette(1) + 256 + 41, tx, ty
		Next tx
	Next ty

	For i = 0 To 100
		DrawTile Pallette(1) + Rnd(4) + 256 + 42, Rnd(40), Rnd(30)
	Next i

	For tx = 0 To 39
		DrawTile Pallette(1) + 256 + 47, tx, YOffs + 1
		DrawTile Pallette(1) + 256 + 46, tx, YOffs + 9
	Next tx

	Reload ti_sca_tm
	For ty = 0 to 6
		For tx = 0 To 39
			ReadInt a
			DrawTile Pallette(1) + 256 + a, tx - 4 , YOffs + 2 + ty
			if tx < 8 then DrawTile Pallette(1) + 256 + a, tx + 36, YOffs + 2 + ty
		Next tx
	Next ty

	SetGFXPlane SCROLL_A
	Cls

	Pallettes ti_scb_pd, 2, 0, 16
	LoadTiles ti_scb_td, 293, 512
	Reload ti_scb_tm
	For ty = 0 to 10
		For tx = 0 To 39
			ReadInt a
			DrawTile Pallette(2) + 512 + a, tx, YOffs + ty
		Next tx
	Next ty

	SetScrollMode HSCROLL_CELL, VSCROLL_OVERALL
	SetScrollPlane SCROLL_B

	Reload title_text_2
	titlePrnTxt 5, 24
	Reload title_text_3
	titlePrnTxt 6, 26

	Enable Screen

	'Reload musicDataTitle
	'Gosub tfdPlayInit
	If ntscTimings = 1 Then
		asm     
			lea XgmNtscTitle,a1
	    end asm
	Else
		asm
			lea XgmPalTitle,a1
		end asm
	End If
    xgm_startPlayMusic

	Do
		sleep 2
		frame_counter = frame_counter + 1
		For i = 5 To 11
		Scroll2 Right, sine_table_16(((frame_counter) + i) And 63) - 4, i
		Next i

		If (frame_counter >> 4) And 1 Then
			Reload title_text_1
			titlePrnTxt 11, 18
		Else
			For x = 11 To 28
				DrawTile 512, x, 18
			Next x
		End If

		If joypad().7 Then Exit Do
	Loop

	xgm_stopPlayMusic
	playSound 12

	While joypad().7: Wend

	scrollyVMelt
	
	'SetGFXPlane SCROLL_A
	'For ty = 0 To 29
	'	For tx = 0 To 39
	'		DrawTile 0, tx, ty
	'	Next tx
	'Next ty
	'SetGFXPlane SCROLL_B
	'For ty = 0 To 29
	'	For tx = 0 To 39
	'		DrawTile 0, tx, ty
	'	Next tx
	'Next ty

	For i = 5 To 11
		Scroll2 Right, 0, i
	Next i

	
End Sub

Declare Sub playThisLevelMusic()
	Select Case level
		Case 1:
			If ntscTimings = 1 Then
				asm
					lea XgmNtscStage01, a1
				end asm
			Else
				asm
					lea XgmPalStage01, a1
				end asm
			End If
			xgm_startPlayMusic
			Exit Select
		Case 2:
			If ntscTimings = 1 Then
				asm
					lea XgmNtscStage02, a1
				end asm
			Else
				asm
					lea XgmPalStage02, a1
				end asm
			End If
			xgm_startPlayMusic
			Exit Select
		Case 3:
			If ntscTimings = 1 Then
				asm
					lea XgmNtscStage03, a1
				end asm
			Else
				asm
					lea XgmPalStage03, a1
				end asm
			End If
			xgm_startPlayMusic
			Exit Select
		Case 4:
			If ntscTimings = 1 Then
				asm
					lea XgmNtscStage01, a1
				end asm
			Else
				asm
					lea XgmPalStage01, a1
				end asm
			End If
			xgm_startPlayMusic
			Exit Select
		Case 5:
			If ntscTimings = 1 Then
				asm
					lea XgmNtscStage02, a1
				end asm
			Else
				asm
					lea XgmPalStage02, a1
				end asm
			End If
			xgm_startPlayMusic
			Exit Select
	End Select
End Sub

Declare Sub initializationStuff()
	'' Detect TV Type, set values accordingly, set gfx mode
	If TvType() = 0 Then
		' NTSC
		ntscTimings = 1
		
		TvSet 0
		player_max_vy_fall	= 33194 '426 + 32768
		player_g			= 10
		player_max_vy_jump	= 216
		player_jump_incr	= 50
		player_jump_ini		= 33

		player_max_vx		= 106
		player_ax 			= 13
		player_fx			= 20

		player_conveyor		= 73 '(payer_max_vx * 2) / 3

		resnFrames			= 72
	Else
		' PAL
		ntscTimings = 0
		
		TvSet 1
		player_max_vy_fall	= 33280 '512 + 32768
		player_g			= 12
		player_max_vy_jump	= 256
		player_jump_incr	= 50
		player_jump_ini		= 40

		player_max_vx		= 128
		player_ax 			= 16
		player_fx			= 24

		player_conveyor		= 85 ' (payer_max_vx * 2) / 3

		resnFrames			= 60
	End If
End Sub

Declare Sub prepareMyGameStuff
	'' Palettes
	' Palettes 1 & 2 for tiles bg & fg
	' Palette 3 for sprites
	' Palette 0 for GUI

	Pallettes palletteData_hud, 0, 0, 16

	'' Tilesets (general)

	' 128 - onwards: hud (64)
	LoadTiles tileData_hud, 52, 128
	' 1280 - onwards: 7-segment digits
	LoadTiles tileData_hud, 20, 96, 50

	'' Sprite creation

	' hud sprites
	For mli = 0 To 7
		hudSprs(mli) = addSprite (2, 1)
		propSprite hudSprs(mli), 128, 0
		moveSprite hudSprs(mli), 136 + (mli << 3), 144
	Next mli
	propSprite hudSprs(0), 148, 0
	propSprite hudSprs(3), 150, 0
	propSprite hudSprs(6), 152, 0

	' player sprite
	sprPl = addSprite (3, 3)
	propSprite sprPl, 512, 3

	' enemy sprites
	For mli = 0 To 3
		SprEn(mli) = addSprite (3, 3)
		propSprite sprEn(mli), 620 + (72 * mli), 3
	Next mli

	' resonator sprite
	sprResnCd = addSprite (2, 1)
	propSprite sprResnCd, cd_spr_offs (9), 0
	sprResn = addSprite (3, 3)
	propSprite sprResn, 1088, 3
	resnOn = 0
	resnCt = 9

	' extra sprites (no prop)
	For mli = 0 To 7
		sprExtra(mli) = addSprite (2, 2)
	Next mli

	' Heart
	sprHeart = addSprite (2, 2)
	propSprite sprHeart, 168, 0
End Sub

''' Data

pl_sprite_offsets_Data:
	DataInt	512, 521, 530, 539, 548, 557, 1106
	DataInt 566, 575, 584, 593, 602, 611, 1115

fl_sprite_offsets_Data:
	DataInt 1061, 1070, 1061, 1079

en_sprite_offsets_Data:
	DataInt 620, 629, 638, 647, 656, 665, 674, 683
	DataInt 692, 701, 710, 719, 728, 737, 746, 755
	DataInt 764, 773, 782, 791, 800, 809, 818, 827
	DataInt 836, 845, 854, 863, 872, 881, 890, 899

ex_sprite_offsets_Data:
	DataInt 908, 917

pt_sprite_offsets_Data:
	DataInt 926, 935

cd_sprite_offsets_Data:
	'DataInt 1280, 1282, 1284, 1286, 1288
	'DataInt 1290, 1292, 1294, 1296, 1298
	DataInt 96, 98, 100, 102, 104
	DataInt 106, 108, 110, 112, 114

''' Debug select level Data

' DEBUG - SELECT LEVEL
debug_text_1:
	DataInt 774, 775, 772, 791, 777, 512, 751, 512, 789, 775, 782
	DataInt 775, 773, 790, 512, 782, 775, 792, 775, 782, 0

' LEVEL TWO - FACTORY
debug_text_2:
	DataInt 782, 775, 792, 775, 782, 512, 790, 793, 785, 512, 751
	DataInt 512, 776, 771, 773, 790, 785, 788, 795, 0

' LEVEL ONE - TOWN
debug_text_3:
	DataInt 782, 775, 792, 775, 782, 512, 785, 784, 775, 512, 751
	DataInt 512, 790, 785, 793, 784, 0

' LEVEL THREE - CAVE
debug_text_4:
	DataInt 782, 775, 792, 775, 782, 512, 790, 778, 788, 775, 775
	DataInt 512, 751, 512, 773, 771, 792, 775, 0

''' Title Data

title_text_1:
	DataInt 786, 788, 775, 789, 789, 512, 789, 790, 771, 788, 790
	DataInt 512, 772, 791, 790, 790, 785, 784, 0

title_text_2:
	DataInt 773, 785, 786, 795, 782, 775, 776, 790, 512, 756, 754
	DataInt 755, 759, 512, 512, 790, 778, 775, 512, 783, 785, 780
	DataInt 785, 784, 512, 790, 793, 779, 784, 789, 0

title_text_3:
	DataInt 786, 785, 774, 775, 793, 793, 793, 788, 512, 773, 785
	DataInt 782, 782, 775, 773, 790, 779, 785, 784, 512, 792, 785
	DataInt 782, 752, 512, 741, 754, 755, 0

ti_sca_pd:
	DataFile ti-sca-pd.bin, bin

ti_sca_td:
	DataFile ti-sca-td.bin, bin

ti_sca_tm:
	DataFile ti-sca-tm.bin, bin

ti_scb_pd:
	DataFile ti-scb-pd.bin, bin

ti_scb_td:
	DataFile ti-scb-td.bin, bin

ti_scb_tm:
	DataFile ti-scb-tm.bin, bin

''' Game Data

sine_table_16_Data:
	DataInt 32768, 32769, 32771, 32772, 32774, 32775, 32776, 32778
	DataInt 32779, 32780, 32781, 32782, 32782, 32783, 32783, 32783
	DataInt 32784, 32783, 32783, 32783, 32782, 32782, 32781, 32780
	DataInt 32779, 32778, 32776, 32775, 32774, 32772, 32771, 32769
	DataInt 32767, 32766, 32764, 32763, 32761, 32760, 32759, 32757
	DataInt 32756, 32755, 32754, 32753, 32753, 32752, 32752, 32752
	DataInt 32752, 32752, 32752, 32752, 32753, 32753, 32754, 32755
	DataInt 32756, 32757, 32759, 32760, 32761, 32763, 32764, 32766

tileData_hud:
	DataFile hud.bin, bin

palletteData_hud:
	DataInt	$0000,$048E,$0420,$0006,$022A,$06EE,$0264,$0042
	DataInt	$0E86,$0EAA,$086E,$0CEE,$0ECE,$002E,$0644,$044C
'' Level 1 includes

tileData_setfg_1:
	DataFile l1setfg.bin, bin

tileData_setbg_1:
	DataFile l1setbg.bin, bin

tileData_spriteset_1:
	DataFile l1spriteset.bin, bin

palletteData_setfg_1:
	DataInt	$0000,$0466,$0024,$0246,$0042,$0222,$06AA,$0ACC
	DataInt	$0688,$0264,$0486,$0642,$0864,$0004,$0444,$0666

palletteData_setfg_1_bw:
	DataInt $0000,$0444,$0222,$0444,$0222,$0222,$0888,$0AAA
	DataInt $0666,$0444,$0666,$0444,$0666,$0000,$0444,$0666

palletteData_setbg_1:
	DataInt	$0600,$0600,$0A02,$0642,$00EE,$0602,$0402,$0EA8
	DataInt	$0620,$0420,$0820,$0000,$0000,$0000,$0000,$0000

palletteData_setbg_1_bw:
	DataInt $0000,$0000,$0222,$0444,$0AAA,$0222,$0000,$0AAA
	DataInt $0222,$0222,$0222,$0000,$0000,$0000,$0000,$0000

palletteData_spriteset_1:
	DataInt	$0000,$0222,$0280,$02A4,$02CA,$020C,$004E,$046E
	DataInt	$068E,$08CE,$00AE,$0CCA,$0EEE,$0A64,$08AE,$0000
		
palletteData_spriteset_1_bw:
	DataInt $0000,$0222,$0444,$0666,$0888,$0222,$0444,$0666
	DataInt $0888,$0AAA,$0888,$0AAA,$0EEE,$0666,$0AAA,$0000

map_layer_0_1:
	DataFile l1map.0.bin, bin

map_layer_1_1:
	DataFile l1map.1.bin, bin

behaviours_Data_1:
	DataInt 0, 0, 0, 8, 0, 0, 8, 8, 8, 8, 0, 8, 0, 0, 0, 4
	DataInt 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 8, 8, 8, 8, 8
	DataInt 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 1, 0, 8, 8

    ' Data t, x, y ;; 1->key 2->bolt 3->block 4->life...
	' 8*3 = 24 bytes per screen
map_extra_1:
    Data 2, 11, 5, 3, 14, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 18, 3, 3, 14, 7, 3, 17, 9, 3, 9, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 13, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 5, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

	' Data t, x1, y1, x2, y2, v
enemy_Data_1:
	Data 1, 5, 5, 9, 5, 2, 2, 17, 11, 5, 11, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 3, 15, 2, 9, 2, 1, 2, 8, 2, 3, 2, 2, 5, 17, 8, 17, 7, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 8, 8, 7, 15, 7, 1, 8, 17, 6, 17, 11, 1, 1, 15, 11, 6, 11, 2, 3, 9, 3, 14, 3, 1
	Data 4, 9, 4, 12, 10, 2, 6, 3, 3, 3, 4, 0, 6, 16, 9, 16, 8, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 4, 12, 6, 12, 9, 1, 2, 9, 6, 11, 6, 1, 8, 17, 4, 10, 4, 1, 8, 2, 3, 2, 10, 2
	Data 6, 5, 4, 5, 5, 0, 4, 13, 7, 13, 2, 1, 1, 7, 11, 1, 11, 2, 4, 17, 3, 3, 3, 2
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 4, 6, 2, 6, 10, 2, 5, 10, 4, 10, 3, 0, 5, 13, 7, 14, 6, 0, 8, 3, 3, 6, 3, 1
	Data 1, 10, 5, 3, 5, 1, 1, 10, 11, 2, 11, 2, 4, 13, 1, 13, 11, 2, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 8, 16, 11, 16, 7, 1, 6, 7, 8, 7, 7, 1, 6, 11, 6, 11, 5, 1, 0, 0, 0, 0, 0, 0
	Data 4, 9, 2, 9, 6, 2, 4, 10, 1, 10, 5, 1, 4, 16, 8, 18, 11, 2, 8, 3, 3, 2, 3, 1
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 1, 4, 5, 11, 5, 2, 4, 3, 2, 3, 11, 2, 3, 16, 11, 7, 11, 1, 0, 0, 0, 0, 0, 0
	Data 4, 16, 2, 17, 9, 1, 2, 15, 11, 11, 11, 1, 1, 9, 11, 2, 11, 1, 8, 6, 5, 6, 2, 1
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
' total: 33

resonator_Data_1:
	Data 1, 7
	Data 15, 5
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 16, 3
	Data 14, 3
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 10, 9
	Data 14, 4
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 5, 7
	Data 15, 3
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 5, 9
	Data 15, 6
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 1, 7
	Data 5, 5
	Data 0, 0
	Data 0, 0
	Data 0, 0
	Data 0, 0

'' Level 2 includes

tileData_setfg_2:
	DataFile l2setfg.bin, bin

tileData_setbg_2:
	DataFile l2setbg.bin, bin

tileData_spriteset_2:
	DataFile l2spriteset.bin, bin

palletteData_setfg_2:
	DataInt	$0000,$0224,$08AC,$068A,$0668,$0446,$0046,$0248
	DataInt	$024A,$0220,$0A86,$0864,$0442,$0000,$0000,$0000

palletteData_setfg_2_bw:
	DataInt $0000,$0222,$0AAA,$0888,$0666,$0444,$0222,$0444
	DataInt $0444,$0000,$0888,$0666,$0222,$0000,$0000,$0000

palletteData_setbg_2:
	DataInt	$0000,$0446,$0444,$0224,$0644,$0426,$0448,$0406
	DataInt	$0204,$0202,$0404,$0422,$0222,$0646,$08AC,$088A

palletteData_setbg_2_bw:
	DataInt $0000,$0444,$0444,$0222,$0444,$0222,$0444,$0222
	DataInt $0000,$0000,$0222,$0222,$0222,$0444,$0AAA,$0888

palletteData_spriteset_2:
	DataInt $0000,$0222,$0280,$02A4,$00AA,$0826,$084A,$0800
	DataInt $0A62,$0A64,$0CCA,$0EEE,$08AE,$068E,$046E,$08CE

palletteData_spriteset_2_bw:
	DataInt $0000,$0222,$0444,$0666,$0666,$0444,$0666,$0222
	DataInt $0666,$0666,$0AAA,$0EEE,$0AAA,$0888,$0666,$0AAA

map_layer_0_2:
	DataFile l2map.0.bin, bin

map_layer_1_2:
	DataFile l2map.1.bin, bin

behaviours_Data_2:
	DataInt 0, 4, 4, 4, 4, 0, 0, 0, 8, 8, 8, 8, 8, 8, 4, 4
	DataInt 8, 8, 8, 8, 5, 6, 1, 1, 2, 2, 8, 8, 8, 4, 0, 0
	DataInt 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0

map_extra_2:
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 6, 3, 3, 6, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 18, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 6, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 16, 5, 3, 16, 6, 3, 16, 7, 3, 16, 8, 3, 16, 9, 3, 16, 10, 0, 0, 0, 0, 0, 0
    Data 3, 17, 10, 3, 17, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 15, 3, 3, 16, 7, 3, 16, 8, 2, 14, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 14, 4, 3, 17, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 14, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 4, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 18, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 1, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

enemy_Data_2:
	data 6, 3, 4, 2, 5, 1, 6, 13, 5, 13, 6, 1, 6, 9, 9, 9, 10, 1, 1, 8, 11, 4, 11, 1
	data 4, 17, 1, 17, 7, 2, 8, 7, 7, 7, 1, 1, 8, 2, 2, 2, 7, 1, 3, 18, 11, 9, 11, 1
	data 4, 13, 1, 13, 6, 1, 4, 17, 1, 17, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 2, 12, 2, 1, 2, 1, 1, 6, 5, 18, 5, 2, 3, 10, 8, 1, 8, 1, 0, 0, 0, 0, 0, 0
	data 6, 8, 4, 8, 3, 1, 4, 2, 3, 2, 11, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 6, 3, 7, 3, 8, 1, 6, 10, 10, 10, 9, 1, 4, 6, 1, 16, 5, 1, 0, 0, 0, 0, 0, 0
	data 1, 18, 11, 12, 11, 1, 2, 7, 11, 2, 11, 1, 3, 12, 8, 18, 8, 1, 4, 8, 4, 2, 4, 1
	data 4, 18, 2, 18, 8, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 4, 4, 4, 8, 4, 1, 1, 14, 4, 6, 4, 2, 5, 2, 5, 2, 4, 1, 0, 0, 0, 0, 0, 0
	data 1, 12, 4, 4, 4, 1, 8, 17, 5, 17, 11, 1, 4, 13, 11, 4, 11, 2, 0, 0, 0, 0, 0, 0
	data 6, 2, 2, 2, 3, 1, 2, 10, 5, 16, 5, 1, 4, 15, 11, 8, 11, 1, 8, 17, 6, 17, 11, 1
	data 8, 9, 4, 9, 10, 1, 4, 10, 3, 17, 7, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 8, 4, 4, 4, 10, 1, 6, 7, 8, 6, 8, 1, 4, 16, 5, 16, 11, 2, 0, 0, 0, 0, 0, 0
	data 8, 18, 11, 1, 11, 1, 4, 17, 5, 10, 5, 1, 3, 6, 5, 11, 5, 1, 1, 8, 5, 2, 5, 1
	data 8, 2, 5, 2, 11, 1, 6, 5, 3, 5, 4, 1, 6, 16, 3, 16, 4, 1, 4, 2, 4, 2, 10, 1
	data 1, 2, 6, 15, 6, 2, 2, 14, 6, 3, 6, 1, 3, 3, 11, 15, 11, 1, 0, 0, 0, 0, 0, 0
	data 4, 12, 3, 4, 3, 1, 2, 13, 11, 9, 11, 1, 5, 16, 3, 16, 4, 1, 8, 13, 4, 13, 10, 1
	data 4, 9, 2, 9, 11, 1, 4, 13, 2, 13, 11, 1, 2, 3, 8, 1, 8, 1, 0, 0, 0, 0, 0, 0
	data 8, 1, 7, 9, 7, 1, 8, 16, 7, 10, 7, 1, 4, 4, 3, 16, 6, 1, 4, 18, 1, 18, 6, 1
	data 1, 18, 4, 11, 4, 1, 3, 18, 8, 9, 8, 1, 2, 1, 4, 5, 4, 1, 0, 0, 0, 0, 0, 0
	data 1, 8, 7, 3, 7, 1, 2, 8, 4, 12, 4, 1, 4, 15, 2, 15, 6, 2, 0, 0, 0, 0, 0, 0
	data 6, 8, 6, 8, 7, 1, 6, 17, 4, 16, 4, 1, 1, 15, 5, 10, 5, 1, 0, 0, 0, 0, 0, 0
	data 6, 4, 3, 4, 4, 1, 6, 10, 3, 10, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 1, 18, 8, 10, 8, 1, 2, 7, 5, 17, 5, 2, 4, 1, 4, 5, 11, 1, 0, 0, 0, 0, 0, 0
	data 2, 2, 5, 9, 5, 1, 2, 17, 5, 12, 5, 1, 3, 6, 5, 15, 5, 2, 0, 0, 0, 0, 0, 0
	data 1, 16, 11, 5, 11, 2, 6, 14, 8, 13, 8, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 4, 11, 7, 18, 11, 1, 4, 18, 1, 11, 5, 1, 2, 7, 11, 4, 11, 1, 0, 0, 0, 0, 0, 0
	data 4, 5, 7, 5, 11, 1, 4, 15, 11, 15, 8, 1, 4, 8, 1, 8, 5, 1, 0, 0, 0, 0, 0, 0
	data 1, 6, 5, 11, 5, 2, 1, 11, 11, 5, 11, 1, 1, 10, 8, 13, 8, 1, 0, 0, 0, 0, 0, 0
	data 1, 10, 9, 16, 9, 1, 4, 18, 11, 12, 11, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 6, 3, 9, 3, 10, 1, 5, 5, 7, 5, 8, 1, 5, 14, 7, 15, 7, 1, 6, 16, 10, 16, 9, 1
	data 3, 2, 11, 16, 11, 1, 4, 3, 2, 2, 8, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 3, 17, 4, 5, 4, 2, 4, 3, 5, 3, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 1, 2, 4, 18, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	data 4, 13, 2, 13, 11, 1, 2, 9, 4, 1, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
' total: 90

resonator_Data_2:
	Data 18, 9
	Data 11, 5
	Data 15, 11
	Data 3, 11
	Data 17, 8
	Data 0, 0
	Data 15, 5
	Data 15, 11
	Data 0, 0
	Data 17, 11
	Data 2, 9
	Data 2, 11
	Data 0, 0
	Data 12, 6
	Data 0, 0
	Data 18, 10
	Data 0, 0
	Data 3, 2
	Data 11, 3
	Data 18, 9
	Data 9, 8
	Data 0, 0
	Data 3, 3
	Data 0, 0
	Data 8, 11
	Data 0, 0
	Data 0, 0
	Data 10, 11
	Data 16, 5
	Data 0, 0
	Data 0, 0
	Data 1, 9
	Data 18, 9
	Data 0, 0
	Data 10, 9
	Data 11, 4

'' Level 3 includes

tileData_setfg_3:
	DataFile l3setfg.bin, bin

tileData_setbg_3:
	DataFile l3setbg.bin, bin

tileData_spriteset_3:
	DataFile l3spriteset.bin, bin

palletteData_setfg_3:
	DataInt	$0000,$0822,$0422,$0A66,$0844,$0622,$0402,$0224
	DataInt	$00A8,$02EA,$04EE,$0AAA,$0888,$024A,$0248,$0046

palletteData_setfg_3_bw:
	DataInt $0000,$0222,$0222,$0666,$0444,$0222,$0000,$0222
	DataInt $0666,$0AAA,$0AAA,$0AAA,$0888,$0444,$0444,$0222

palletteData_setbg_3:
	DataInt	$0000,$0402,$0602,$0622,$0666,$0444,$0222,$0000
	DataInt	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

palletteData_setbg_3_bw:
	DataInt $0000,$0000,$0222,$0222,$0666,$0444,$0222,$0000
	DataInt $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

palletteData_spriteset_3:
	DataInt	$0000,$0222,$0280,$02A4,$02AA,$0626,$086A,$0462
	DataInt	$062E,$08CE,$068E,$0CCA,$04AE,$0C86,$08AE,$046E

palletteData_spriteset_3_bw:
	DataInt $0000,$0222,$0444,$0666,$0888,$0444,$0666,$0444
	DataInt $0666,$0AAA,$0888,$0AAA,$0888,$0888,$0AAA,$0666

map_layer_0_3:
	DataFile l3map.0.bin, bin

map_layer_1_3:
	DataFile l3map.1.bin, bin

behaviours_Data_3:
	DataInt 0, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 4, 4, 4
	DataInt 4, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 2, 1, 4, 0
	DataInt 4, 4, 1, 4, 8, 8, 0, 0, 4, 8, 8, 0, 0, 7, 7, 7

map_extra_3:
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 2, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 2, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 6, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 3, 3, 2, 15, 3, 2, 1, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 15, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

enemy_Data_3:
	Data 1, 10, 6, 17, 6, 1, 4, 2, 5, 5, 11, 1, 6, 7, 9, 6, 9, 1, 0, 0, 0, 0, 0, 0
	Data 1, 1, 5, 15, 5, 2, 1, 8, 11, 4, 11, 1, 3, 12, 10, 15, 10, 1, 0, 0, 0, 0, 0, 0
	Data 1, 1, 6, 10, 6, 2, 3, 11, 11, 8, 11, 1, 5, 13, 6, 13, 5, 0, 5, 15, 8, 15, 7, 0
	Data 6, 12, 3, 12, 2, 0, 6, 18, 7, 18, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 2, 10, 8, 5, 8, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 3, 15, 4, 10, 4, 1, 4, 10, 8, 17, 6, 1, 1, 2, 11, 5, 11, 1, 0, 0, 0, 0, 0, 0
	Data 4, 17, 7, 9, 7, 1, 4, 2, 3, 2, 10, 1, 4, 3, 7, 3, 12, 1, 0, 0, 0, 0, 0, 0
	Data 3, 5, 9, 8, 9, 1, 3, 14, 10, 9, 10, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 3, 10, 11, 5, 11, 1, 3, 16, 10, 11, 10, 1, 6, 7, 4, 7, 5, 0, 0, 0, 0, 0, 0, 0
	Data 5, 4, 7, 4, 8, 0, 4, 8, 2, 8, 5, 1, 4, 11, 1, 11, 7, 1, 0, 0, 0, 0, 0, 0
	Data 3, 3, 5, 8, 5, 1, 4, 8, 7, 9, 10, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 8, 1, 10, 17, 10, 1, 3, 18, 8, 13, 8, 1, 1, 13, 5, 17, 5, 1, 2, 13, 2, 7, 2, 1
	Data 4, 8, 8, 17, 8, 1, 4, 18, 4, 9, 4, 1, 4, 3, 3, 3, 11, 1, 0, 0, 0, 0, 0, 0
	Data 8, 4, 6, 4, 11, 1, 1, 7, 5, 16, 5, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 8, 11, 4, 11, 10, 1, 4, 6, 6, 11, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 3, 17, 8, 11, 8, 1, 4, 7, 2, 7, 9, 1, 4, 9, 3, 9, 10, 1, 0, 0, 0, 0, 0, 0
	Data 8, 8, 11, 8, 6, 1, 1, 9, 5, 6, 5, 1, 2, 2, 10, 9, 10, 1, 0, 0, 0, 0, 0, 0
	Data 4, 16, 10, 4, 9, 1, 3, 3, 4, 13, 4, 1, 3, 8, 2, 5, 2, 1, 0, 0, 0, 0, 0, 0
	Data 4, 18, 8, 9, 8, 1, 4, 8, 3, 11, 5, 1, 4, 2, 2, 2, 11, 1, 0, 0, 0, 0, 0, 0
	Data 4, 13, 4, 13, 11, 1, 4, 8, 1, 8, 9, 1, 4, 6, 1, 6, 7, 1, 4, 4, 0, 4, 5, 1
	Data 4, 13, 2, 13, 8, 1, 4, 7, 2, 7, 9, 1, 4, 1, 2, 1, 8, 1, 0, 0, 0, 0, 0, 0
	Data 1, 15, 10, 6, 10, 1, 5, 10, 7, 10, 6, 1, 5, 13, 8, 13, 7, 0, 5, 7, 8, 7, 7, 0
	Data 3, 9, 5, 4, 5, 1, 1, 2, 8, 12, 8, 2, 4, 13, 11, 3, 11, 1, 0, 0, 0, 0, 0, 0
	Data 8, 18, 8, 9, 8, 1, 4, 7, 5, 16, 7, 1, 3, 2, 5, 4, 5, 1, 3, 5, 6, 6, 6, 1
	Data 8, 15, 5, 15, 11, 1, 1, 5, 10, 7, 10, 1, 3, 8, 11, 10, 11, 1, 0, 0, 0, 0, 0, 0
	Data 1, 7, 11, 1, 11, 2, 2, 12, 10, 13, 10, 1, 3, 12, 3, 8, 3, 1, 0, 0, 0, 0, 0, 0
	Data 4, 15, 3, 11, 3, 1, 3, 6, 3, 7, 3, 1, 2, 11, 9, 14, 9, 1, 0, 0, 0, 0, 0, 0
	Data 1, 3, 11, 11, 11, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 3, 13, 8, 7, 8, 1, 3, 14, 3, 11, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 8, 1, 4, 16, 4, 1, 4, 15, 7, 10, 5, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 4, 18, 6, 11, 6, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 2, 17, 11, 6, 11, 1, 1, 13, 4, 17, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 4, 9, 5, 2, 5, 1, 6, 12, 5, 12, 6, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	Data 4, 18, 8, 11, 8, 1, 3, 7, 8, 1, 8, 1, 5, 9, 7, 10, 6, 1, 0, 0, 0, 0, 0, 0
	Data 8, 8, 8, 17, 8, 1, 4, 17, 4, 8, 7, 1, 1, 9, 3, 6, 3, 1, 0, 0, 0, 0, 0, 0
	Data 4, 7, 6, 7, 11, 2, 4, 8, 5, 8, 11, 2, 4, 9, 11, 9, 8, 1, 0, 0, 0, 0, 0, 0
' total: 90

resonator_Data_3:
	Data 8, 7
	Data 0, 0
	Data 6, 10
	Data 0, 0
	Data 0, 0
	Data 12, 4
	Data 18, 11
	Data 0, 0
	Data 6, 11
	Data 0, 0
	Data 6, 5
	Data 15, 8
	Data 4, 8
	Data 8, 5
	Data 0, 0
	Data 3, 9
	Data 2, 3
	Data 0, 0
	Data 9, 10
	Data 0, 0
	Data 0, 0
	Data 11, 10
	Data 5, 11
	Data 17, 4
	Data 6, 10
	Data 0, 0
	Data 9, 8
	Data 0, 0
	Data 0, 0
	Data 9, 6
	Data 0, 0
	Data 15, 4
	Data 0, 0
	Data 0, 0
	Data 7, 6
	Data 13, 5

'' Level 4 includes

tileData_setfg_4:
	DataFile l4setfg.bin, bin

tileData_setbg_4:
	DataFile l4setbg.bin, bin

tileData_spriteset_4:
	DataFile l1spriteset.bin, bin

palletteData_setfg_4:
	DATAINT	$0000,$0222,$0648,$0866,$0204,$0426,$0444,$0424,$0644,$0622,$0A68,$0CAA,$0486,$0264,$0400,$0666

palletteData_setfg_4_bw:
	DataInt $0000,$0222,$0444,$0666,$0000,$0222,$0444,$0222,$0000,$0222,$0444,$0666,$0000,$0222,$0444,$0222

palletteData_setbg_4:
	DATAINT	$0204,$020A,$0206,$0404,$0024,$0022,$0026,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

palletteData_setbg_4_bw:
	DataInt $0000,$0222,$0222,$0222,$0222,$0000,$0222,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

palletteData_spriteset_4:
	DataInt	$0000,$0222,$0280,$02A4,$02CA,$020C,$004E,$046E
	DataInt	$068E,$08CE,$00AE,$0CCA,$0EEE,$0A64,$08AE,$0000
		
palletteData_spriteset_4_bw:
	DataInt $0000,$0222,$0444,$0666,$0888,$0222,$0444,$0666
	DataInt $0888,$0AAA,$0888,$0AAA,$0EEE,$0666,$0AAA,$0000

map_layer_0_4:
	DataFile l4map.0.bin, bin

map_layer_1_4:
	DataFile l4map.1.bin, bin

behaviours_Data_4:
	DataInt 0, 0, 0, 8, 0, 0, 8, 8, 8, 8, 0, 8, 0, 0, 0, 4
	DataInt 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 8, 8, 8, 8, 8
	DataInt 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 1, 0, 8, 8

map_extra_4:
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 8, 5, 3, 5, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 1, 3, 3, 5, 7, 3, 2, 9, 3, 10, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 14, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 6, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

enemy_Data_4:
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 3, 4, 2, 10, 2, 1, 2, 11, 2, 16, 2, 2, 5, 2, 8, 2, 7, 0, 0, 19, 0, 19, 0, 0
	data 1, 14, 5, 10, 5, 2, 2, 2, 11, 14, 11, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 4, 10, 4, 7, 10, 2, 6, 16, 3, 16, 4, 0, 6, 3, 9, 3, 8, 0, 0, 19, 0, 19, 0, 0
	data 8, 11, 7, 4, 7, 1, 8, 2, 6, 2, 11, 1, 1, 4, 11, 13, 11, 2, 3, 10, 3, 5, 3, 1
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 6, 14, 4, 14, 5, 0, 4, 6, 7, 6, 2, 1, 1, 12, 11, 18, 11, 2, 4, 2, 3, 16, 3, 2
	data 4, 7, 6, 7, 9, 1, 2, 10, 6, 8, 6, 1, 8, 2, 4, 9, 4, 1, 8, 17, 3, 17, 10, 2
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 1, 9, 5, 16, 5, 1, 1, 9, 11, 17, 11, 2, 4, 6, 1, 6, 11, 2, 0, 19, 0, 19, 0, 0
	data 4, 13, 2, 13, 10, 2, 5, 9, 4, 9, 3, 0, 5, 6, 7, 5, 6, 0, 8, 16, 3, 13, 3, 1
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 4, 10, 2, 10, 6, 2, 4, 9, 1, 9, 5, 1, 4, 3, 8, 1, 11, 2, 8, 16, 3, 17, 3, 1
	data 8, 3, 11, 3, 7, 1, 6, 12, 8, 12, 7, 1, 6, 8, 6, 8, 5, 1, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 4, 3, 2, 2, 9, 1, 2, 4, 11, 8, 11, 1, 1, 10, 11, 17, 11, 1, 8, 13, 5, 13, 2, 1
	data 1, 15, 5, 8, 5, 2, 4, 16, 2, 16, 11, 2, 3, 3, 11, 12, 11, 1, 0, 19, 0, 19, 0, 0
' total: 33

resonator_Data_4:
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 4, 5
	Data 18, 7
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 5, 3
	Data 3, 3
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 5, 4
	Data 9, 9
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 4, 3
	Data 14, 7
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 4, 6
	Data 14, 9
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 19, 0
	Data 14, 5
	Data 18, 7

'' Level 5 includes

tileData_setfg_5:
	DataFile l5setfg.bin, bin

tileData_setbg_5:
	DataFile l5setbg.bin, bin

tileData_spriteset_5:
	DataFile l2spriteset.bin, bin

palletteData_setfg_5:
	DATAINT	$0000,$0CCC,$0AAA,$0444,$0666,$0888,$0004,$0428,$0226,$086A,$046A,$0006,$0626,$0248,$0244,$08AA

palletteData_setfg_5_bw:
	DataInt $0000,$0CCC,$0AAA,$0444,$0666,$0888,$0000,$0444,$0222,$0666,$0666,$0000,$0444,$0444,$0222,$0888

palletteData_setbg_5:
	DATAINT	$0000,$0006,$0004,$0002,$0204,$0206,$0226,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

palletteData_setbg_5_bw:
	DataInt $0000,$0000,$0000,$0000,$0000,$0222,$0222,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

palletteData_spriteset_5:
	DataInt $0000,$0222,$0280,$02A4,$00AA,$0826,$084A,$0800
	DataInt $0A62,$0A64,$0CCA,$0EEE,$08AE,$068E,$046E,$08CE

palletteData_spriteset_5_bw:
	DataInt $0000,$0222,$0444,$0666,$0666,$0444,$0666,$0222
	DataInt $0666,$0666,$0AAA,$0EEE,$0AAA,$0888,$0666,$0AAA

map_layer_0_5:
	DataFile l5map.0.bin, bin

map_layer_1_5:
	DataFile l5map.1.bin, bin

behaviours_Data_5:
	DataInt 0, 4, 4, 4, 4, 0, 0, 0, 8, 8, 8, 8, 8, 8, 4, 4
	DataInt 8, 8, 8, 8, 5, 6, 1, 1, 2, 2, 8, 8, 8, 4, 0, 0
	DataInt 8, 8, 8, 8, 0, 0, 0, 0, 0, 0, 0, 8, 8, 8, 0, 0

map_extra_5:
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 1, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 13, 3, 3, 13, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 4, 3, 3, 3, 7, 3, 3, 8, 2, 5, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 2, 10, 3, 2, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 3, 5, 3, 3, 6, 3, 3, 7, 3, 3, 8, 3, 3, 9, 3, 3, 10, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 13, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 3, 5, 4, 3, 2, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 2, 15, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 18, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    Data 1, 1, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

enemy_Data_5:
	data 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 6, 11, 4, 11, 3, 1, 4, 17, 3, 17, 11, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 2, 7, 2, 18, 2, 1, 1, 13, 5, 1, 5, 2, 3, 9, 8, 18, 8, 1, 0, 19, 0, 19, 0, 0
	data 4, 6, 1, 6, 6, 1, 4, 2, 1, 2, 4, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 4, 2, 1, 2, 7, 2, 8, 12, 7, 12, 1, 1, 8, 17, 2, 17, 7, 1, 3, 1, 11, 10, 11, 1
	data 6, 16, 4, 17, 5, 1, 6, 6, 5, 6, 6, 1, 6, 10, 9, 10, 10, 1, 1, 11, 11, 15, 11, 1
	data 6, 17, 2, 17, 3, 1, 2, 9, 5, 3, 5, 1, 4, 4, 11, 11, 11, 1, 8, 2, 6, 2, 11, 1
	data 1, 7, 4, 15, 4, 1, 8, 2, 5, 2, 11, 1, 4, 6, 11, 15, 11, 2, 0, 19, 0, 19, 0, 0
	data 4, 15, 4, 11, 4, 1, 1, 5, 4, 13, 4, 2, 5, 17, 5, 17, 4, 1, 0, 19, 0, 19, 0, 0
	data 4, 1, 2, 1, 8, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 1, 1, 11, 7, 11, 1, 2, 12, 11, 17, 11, 1, 3, 7, 8, 1, 8, 1, 4, 11, 4, 17, 4, 1
	data 6, 16, 7, 16, 8, 1, 6, 9, 10, 9, 9, 1, 4, 13, 1, 3, 5, 1, 0, 19, 0, 19, 0, 0
	data 4, 7, 3, 15, 3, 1, 2, 6, 11, 10, 11, 1, 5, 3, 3, 3, 4, 1, 8, 6, 4, 6, 10, 1
	data 1, 17, 6, 4, 6, 2, 2, 5, 6, 16, 6, 1, 3, 16, 11, 4, 11, 1, 0, 19, 0, 19, 0, 0
	data 8, 17, 5, 17, 11, 1, 6, 14, 3, 14, 4, 1, 6, 3, 3, 3, 4, 1, 4, 17, 4, 17, 10, 1
	data 8, 1, 11, 18, 11, 1, 4, 2, 5, 9, 5, 1, 3, 13, 5, 8, 5, 1, 1, 11, 5, 17, 5, 1
	data 8, 15, 4, 15, 10, 1, 6, 12, 8, 13, 8, 1, 4, 3, 5, 3, 11, 2, 0, 19, 0, 19, 0, 0
	data 8, 10, 4, 10, 10, 1, 4, 9, 3, 2, 7, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 6, 15, 3, 15, 4, 1, 6, 9, 3, 9, 4, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 6, 11, 6, 11, 7, 1, 6, 2, 4, 3, 4, 1, 1, 4, 5, 9, 5, 1, 0, 19, 0, 19, 0, 0
	data 1, 11, 7, 16, 7, 1, 2, 11, 4, 7, 4, 1, 4, 4, 2, 4, 6, 2, 0, 19, 0, 19, 0, 0
	data 1, 1, 4, 8, 4, 1, 3, 1, 8, 10, 8, 1, 2, 18, 4, 14, 4, 1, 0, 19, 0, 19, 0, 0
	data 8, 18, 7, 10, 7, 1, 8, 3, 7, 9, 7, 1, 4, 15, 3, 3, 6, 1, 4, 1, 1, 1, 6, 1
	data 4, 10, 2, 10, 11, 1, 4, 6, 2, 6, 11, 1, 2, 16, 8, 18, 8, 1, 0, 19, 0, 19, 0, 0
	data 1, 13, 5, 8, 5, 2, 1, 8, 11, 14, 11, 1, 1, 9, 8, 6, 8, 1, 0, 19, 0, 19, 0, 0
	data 4, 14, 7, 14, 11, 1, 4, 4, 11, 4, 8, 1, 4, 11, 1, 11, 5, 1, 0, 19, 0, 19, 0, 0
	data 4, 8, 7, 1, 11, 1, 4, 1, 1, 8, 5, 1, 2, 12, 11, 15, 11, 1, 0, 19, 0, 19, 0, 0
	data 1, 3, 11, 14, 11, 2, 6, 5, 8, 6, 8, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 2, 17, 5, 10, 5, 1, 2, 2, 5, 7, 5, 1, 3, 13, 5, 4, 5, 2, 0, 19, 0, 19, 0, 0
	data 1, 1, 8, 9, 8, 1, 2, 12, 5, 2, 5, 2, 4, 18, 4, 14, 11, 1, 0, 19, 0, 19, 0, 0
	data 4, 6, 2, 6, 11, 1, 2, 10, 4, 18, 4, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 1, 17, 4, 1, 4, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 3, 2, 4, 14, 4, 2, 4, 16, 5, 16, 9, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 3, 17, 11, 3, 11, 1, 4, 16, 2, 17, 8, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
	data 6, 16, 9, 16, 10, 1, 5, 14, 7, 14, 8, 1, 5, 5, 7, 4, 7, 1, 6, 3, 10, 3, 9, 1
	data 1, 9, 9, 3, 9, 1, 4, 1, 11, 7, 11, 1, 0, 19, 0, 19, 0, 0, 0, 19, 0, 19, 0, 0
' total: 90

resonator_Data_5:
	Data 19, 0
	Data 2, 8
	Data 16, 11
	Data 4, 11
	Data 8, 5
	Data 1, 9
	Data 17, 11
	Data 17, 9
	Data 2, 11
	Data 19, 0
	Data 4, 11
	Data 4, 5
	Data 16, 2
	Data 19, 0
	Data 1, 10
	Data 19, 0
	Data 7, 6
	Data 19, 0
	Data 19, 0
	Data 16, 3
	Data 19, 0
	Data 10, 8
	Data 1, 9
	Data 8, 3
	Data 19, 0
	Data 3, 5
	Data 9, 11
	Data 19, 0
	Data 19, 0
	Data 11, 11
	Data 8, 4
	Data 9, 9
	Data 19, 0
	Data 1, 9
	Data 18, 9
	Data 19, 0
	
'' Cutscene data. The texts...
'' Engine shows 6, stops, etc...
CutsTxt1:
    Data $52, $45, $4D, $45, $4D, $42, $45, $52, $20, $43, $48, $45, $52, $49, $4C, $20, $57, $41, $53, $20, $4E, $4F, $20, $4C, $4F, $4E, $47, $45, $52, $20, $48, $41, $50, $50, $59, 0
    Data $49, $4E, $20, $59, $45, $20, $4F, $4C, $44, $45, $20, $46, $4F, $52, $45, $53, $54, $20, $46, $41, $52, $20, $41, $57, $41, $59, $2C, 0
    Data $53, $4F, $20, $53, $48, $45, $20, $50, $41, $43, $4B, $45, $44, $20, $55, $50, $20, $48, $45, $52, $20, $54, $48, $49, $4E, $47, $53, $20, $41, $4E, $44, $20, $50, $41, $52, $54, $45, $44, 0
    Data $54, $4F, $20, $54, $48, $45, $20, $42, $49, $47, $20, $43, $49, $54, $59, $20, $49, $4E, $20, $44, $49, $53, $41, $52, $52, $41, $59, $2E, 0
    Data $41, $4E, $44, $20, $54, $48, $49, $53, $20, $49, $53, $20, $57, $48, $41, $54, $20, $48, $41, $50, $50, $45, $4E, $45, $44, 0
    Data $4A, $55, $53, $54, $20, $41, $20, $57, $45, $45, $4B, $20, $41, $47, $4F, $20, $2E, $20, $2E, $20, $2E, 0
    Data $4E, $4F, $57, $20, $43, $48, $45, $52, $49, $4C, $20, $49, $53, $20, $41, $50, $50, $52, $4F, $41, $43, $48, $49, $4E, $47, $20, $48, $45, $52, $20, $47, $4F, $41, $4C, 0
    Data $42, $49, $47, $20, $42, $55, $49, $4C, $44, $49, $4E, $47, $53, $20, $41, $54, $4F, $50, $20, $54, $48, $45, $20, $48, $4F, $52, $49, $5A, $4F, $4E, $21, 0
    Data $53, $48, $45, $20, $53, $45, $54, $53, $20, $55, $50, $20, $46, $4F, $52, $20, $41, $20, $42, $45, $54, $54, $45, $52, $20, $4C, $49, $46, $45, 0
    Data $41, $57, $41, $59, $20, $46, $52, $4F, $4D, $20, $4D, $4F, $4E, $4B, $45, $59, $53, $20, $41, $4E, $44, $20, $27, $53, $48, $52, $4F, $4F, $4D, $53, $2E, 0
    Data $42, $55, $54, $20, $53, $48, $45, $20, $43, $41, $4E, $27, $54, $20, $49, $4D, $41, $47, $49, $4E, $45, $20, $54, $48, $45, $20, $55, $47, $4C, $59, 0
    Data $53, $55, $52, $50, $52, $49, $53, $45, $20, $41, $57, $41, $49, $54, $49, $4E, $47, $20, $2E, $20, $2E, $20, $2E, 0
    Data $46, $4F, $52, $20, $45, $56, $45, $52, $59, $20, $53, $54, $52, $45, $45, $54, $20, $49, $53, $20, $45, $4D, $50, $54, $59, $2C, 0
    Data $4C, $4F, $4E, $47, $20, $53, $48, $41, $44, $4F, $57, $53, $20, $41, $48, $4F, $59, $21, $2C, $20, $53, $48, $45, $20, $4C, $41, $55, $47, $48, $53, $2E, 0
    Data $4E, $4F, $20, $53, $4F, $55, $4E, $44, $20, $4F, $46, $20, $48, $55, $4D, $41, $4E, $20, $41, $43, $54, $49, $56, $49, $54, $59, $2C, 0
    Data $4A, $55, $53, $54, $20, $41, $20, $44, $45, $45, $50, $2C, $20, $44, $41, $52, $4B, $2C, $20, $45, $56, $49, $4C, $20, $47, $52, $4F, $57, $4C, $20, $2E, $20, $2E, $20, $2E, 0
    Data $53, $48, $45, $20, $47, $4F, $45, $53, $20, $55, $4E, $4E, $4F, $54, $49, $43, $45, $44, $20, $4E, $4F, $20, $4D, $4F, $52, $45, $21, 0
    Data $41, $20, $48, $55, $4E, $44, $52, $45, $44, $20, $45, $59, $45, $53, $20, $54, $55, $52, $4E, $49, $4E, $47, $20, $54, $4F, $20, $48, $45, $52, $20, $2E, $20, $2E, $20, $2E, 0
    Data 0
CutsTxt2:
    Data $27, $57, $48, $41, $54, $20, $54, $48, $45, $20, $48, $45, $4C, $4C, $20, $49, $53, $20, $54, $48, $41, $54, $3F, $27, 0
    Data $43, $48, $45, $52, $49, $4C, $20, $57, $4F, $4E, $44, $45, $52, $53, $20, $4C, $4F, $55, $44, $4C, $59, $20, $28, $46, $4F, $52, $20, $47, $52, $41, $4E, $54, $45, $44, $29, 0
    Data $27, $4F, $48, $2C, $20, $44, $49, $44, $4E, $27, $54, $20, $49, $20, $4D, $45, $4E, $54, $49, $4F, $4E, $20, $49, $54, $3F, $27, 0
    Data $2D, $20, $54, $57, $41, $53, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $20, $53, $50, $45, $41, $4B, $49, $4E, $47, $2E, 0
    Data $27, $4F, $55, $52, $20, $43, $49, $54, $59, $20, $49, $53, $20, $44, $4F, $4F, $4D, $45, $44, $2C, $20, $43, $49, $54, $49, $5A, $45, $4E, $53, $20, $48, $41, $54, $48, 0
    Data $54, $55, $52, $4E, $45, $44, $20, $49, $4E, $54, $4F, $20, $4D, $4F, $4E, $53, $54, $45, $52, $53, $21, $21, $27, 0
    Data $27, $57, $48, $41, $54, $20, $4B, $49, $4E, $44, $20, $4F, $46, $20, $53, $4F, $52, $43, $45, $52, $59, $20, $49, $53, $20, $54, $48, $49, $53, $3F, 0
    Data $49, $27, $4D, $20, $4F, $55, $54, $20, $4F, $46, $20, $48, $45, $52, $45, $2E, $20, $42, $59, $45, $20, $42, $59, $45, $2C, $20, $45, $56, $27, $52, $59, $4F, $4E, $45, $21, $27, 0
    Data $2D, $20, $53, $41, $49, $44, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $42, $55, $54, $20, $59, $4F, $55, $20, $43, $41, $4E, $27, $54, $20, $2D, $20, $41, $20, $53, $45, $41, $4C, $20, $48, $41, $53, $20, $42, $45, $45, $4E, $20, $53, $45, $54, $2E, 0
    Data $59, $4F, $55, $20, $57, $4F, $4E, $27, $54, $20, $42, $45, $20, $41, $42, $4C, $45, $20, $54, $4F, $20, $47, $4F, $20, $55, $4E, $54, $49, $4C, $20, $59, $4F, $55, 0
    Data $44, $49, $53, $50, $4F, $53, $45, $20, $4F, $46, $20, $45, $56, $45, $52, $59, $20, $55, $47, $4C, $59, $20, $42, $45, $49, $4E, $47, $20, $27, $45, $52, $45, $27, 0
    Data $27, $54, $48, $45, $59, $20, $41, $52, $45, $20, $55, $4E, $54, $4F, $55, $43, $48, $41, $42, $4C, $45, $20, $42, $55, $54, $20, $56, $49, $42, $52, $41, $54, $49, $4F, $4E, $53, 0
    Data $4D, $41, $4B, $45, $20, $54, $48, $45, $4D, $20, $53, $54, $4F, $50, $2E, $2E, $2E, 0
    Data $54, $48, $4F, $53, $45, $20, $4F, $44, $44, $20, $43, $4F, $4E, $54, $52, $41, $50, $54, $49, $4F, $4E, $53, $20, $57, $49, $4C, $4C, $20, $50, $41, $55, $53, $45, 0
    Data $54, $48, $45, $4D, $20, $46, $4F, $52, $20, $41, $20, $57, $48, $49, $4C, $45, $21, 0
    Data $55, $53, $45, $20, $54, $48, $45, $4D, $20, $57, $49, $53, $45, $4C, $59, $20, $41, $4E, $44, $20, $4A, $55, $4D, $50, $20, $4F, $56, $45, $52, $20, $54, $48, $45, $49, $52, 0
    Data $48, $45, $41, $44, $53, $21, $27, $20, $2D, $20, $53, $41, $49, $44, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, 0
    Data 0
CutsTxt3:
    Data $27, $4E, $4F, $57, $20, $54, $48, $45, $20, $53, $54, $52, $45, $45, $54, $53, $20, $41, $52, $45, $20, $43, $4C, $45, $41, $4E, $27, 0
    Data $2D, $20, $59, $45, $4C, $4C, $45, $44, $20, $43, $48, $45, $52, $49, $4C, $2E, 0
    Data $27, $48, $41, $54, $48, $20, $49, $20, $53, $45, $45, $4E, $20, $54, $48, $41, $54, $2C, $20, $4D, $41, $27, $41, $4D, $27, 0
    Data $2D, $20, $53, $41, $49, $44, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, 0
    Data $27, $42, $55, $54, $20, $59, $4F, $55, $52, $20, $4A, $4F, $42, $20, $48, $45, $52, $45, $20, $49, $53, $20, $4E, $4F, $54, $20, $59, $45, $54, $20, $4F, $56, $45, $52, $2C, 0
    Data $48, $45, $41, $44, $20, $54, $4F, $20, $54, $48, $45, $20, $4F, $4C, $27, $20, $46, $41, $43, $54, $4F, $52, $59, $2C, $20, $4C, $41, $44, $59, $21, $27, 0
    Data $27, $57, $48, $41, $44, $44, $41, $59, $41, $20, $4D, $45, $41, $4E, $2C, $20, $55, $47, $4C, $59, $20, $4F, $4C, $44, $20, $4D, $41, $4E, $3F, $27, 0
    Data $2D, $20, $50, $52, $4F, $54, $45, $53, $54, $45, $44, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $54, $48, $45, $52, $45, $27, $52, $45, $20, $4D, $4F, $52, $45, $20, $4D, $4F, $4E, $53, $54, $45, $52, $53, $20, $49, $4E, $20, $54, $48, $45, $52, $45, $2E, 0
    Data $49, $27, $4C, $4C, $20, $53, $41, $56, $45, $20, $41, $20, $4D, $49, $4C, $4C, $49, $4F, $4E, $20, $49, $4E, $20, $57, $41, $47, $45, $53, $2C, 0
    Data $42, $55, $54, $20, $53, $4F, $4D, $45, $20, $43, $4C, $45, $41, $4E, $55, $50, $20, $49, $53, $20, $44, $55, $45, $2E, $27, 0
    Data $2D, $20, $45, $58, $50, $4C, $41, $49, $4E, $45, $44, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $2E, 0
    Data $27, $49, $20, $53, $48, $41, $4C, $4C, $20, $4B, $49, $4C, $4C, $20, $59, $4F, $55, $20, $57, $49, $54, $48, $20, $4D, $59, $20, $42, $41, $52, $45, 0
    Data $48, $41, $4E, $44, $53, $2C, $20, $54, $48, $49, $53, $20, $49, $20, $50, $52, $4F, $4D, $49, $53, $45, $21, $27, 0
    Data $2D, $20, $45, $58, $50, $4C, $4F, $44, $45, $44, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $43, $41, $4C, $4D, $20, $44, $4F, $57, $4E, $20, $41, $4E, $44, $20, $57, $45, $49, $47, $48, $54, $20, $59, $4F, $55, $52, 0
    Data $43, $48, $41, $4E, $43, $45, $53, $20, $2D, $20, $41, $4E, $44, $20, $44, $4F, $20, $41, $53, $20, $49, $20, $53, $41, $59, $2E, $27, 0
    Data $2D, $20, $4C, $41, $55, $47, $48, $45, $44, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $2E, 0
    Data 0
CutsTxt4:
    Data $27, $41, $4E, $44, $20, $4E, $4F, $57, $20, $49, $27, $4D, $20, $53, $4F, $20, $41, $4E, $47, $52, $59, $20, $49, $20, $42, $55, $52, $4E, $21, 0
    Data $4C, $45, $54, $20, $4D, $45, $20, $47, $4F, $20, $41, $57, $41, $59, $2C, $20, $46, $49, $4C, $54, $48, $59, $20, $53, $43, $55, $4D, $42, $41, $47, $27, 0
    Data $2D, $20, $53, $48, $4F, $55, $54, $45, $44, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $43, $27, $4D, $4F, $4E, $2C, $20, $4D, $59, $20, $4C, $49, $54, $54, $4C, $45, $20, $47, $49, $52, $4C, $2C, 0
    Data $46, $4F, $52, $20, $49, $20, $4B, $4E, $4F, $57, $20, $59, $4F, $55, $20, $41, $52, $45, $20, $48, $41, $56, $49, $4E, $47, $20, $46, $55, $4E, 0
    Data $4B, $49, $43, $4B, $49, $4E, $27, $20, $49, $4E, $43, $52, $45, $44, $49, $42, $4C, $45, $20, $41, $4D, $4F, $55, $4E, $54, $53, $20, $4F, $46, $20, $41, $53, $53, $21, $27, 0
    Data $27, $54, $48, $41, $54, $20, $4D, $41, $59, $20, $42, $45, $20, $54, $52, $55, $45, $2C, $20, $42, $55, $54, $20, $44, $4F, $49, $4E, $47, $20, $54, $48, $49, $4E, $47, $53, 0
    Data $49, $20, $44, $49, $44, $20, $4E, $4F, $54, $20, $43, $48, $4F, $4F, $53, $45, $20, $49, $20, $48, $41, $54, $45, $21, $27, 0
    Data $27, $42, $55, $54, $20, $59, $4F, $55, $20, $41, $52, $45, $20, $41, $4C, $4D, $4F, $53, $54, $20, $44, $4F, $4E, $45, $2C, $20, $4D, $59, $4C, $41, $44, $59, $21, 0
    Data $53, $45, $45, $20, $54, $48, $41, $54, $20, $44, $41, $52, $4B, $20, $43, $41, $56, $45, $20, $41, $48, $45, $41, $44, $3F, $20, $57, $45, $20, $4D, $49, $4E, $45, $44, 0
    Data $53, $4F, $4D, $45, $20, $43, $48, $45, $4D, $49, $43, $41, $4C, $53, $20, $54, $48, $45, $52, $45, $2E, $20, $4D, $41, $59, $42, $45, $20, $54, $48, $41, $54, $27, $53, 0
    Data $57, $48, $59, $20, $45, $56, $45, $52, $59, $4F, $4E, $45, $27, $53, $20, $42, $45, $45, $4E, $20, $41, $43, $54, $49, $4E, $47, $20, $4F, $44, $44, $21, $27, 0
    Data $27, $4F, $4B, $41, $59, $2C, $20, $4F, $4B, $41, $59, $2C, $20, $4D, $59, $20, $4D, $41, $59, $4F, $52, $2C, 0
    Data $49, $27, $4C, $4C, $20, $43, $4C, $45, $41, $4E, $20, $54, $48, $41, $54, $20, $43, $41, $56, $45, $20, $46, $4F, $52, $20, $59, $4F, $55, $20, $41, $53, $20, $57, $45, $4C, $4C, $2C, 0
    Data $4F, $4E, $4C, $59, $20, $49, $46, $20, $59, $4F, $55, $20, $50, $52, $4F, $4D, $49, $53, $45, $20, $4D, $45, $20, $54, $48, $49, $53, $20, $49, $53, $20, $54, $48, $45, 0
    Data $4C, $41, $53, $54, $20, $4A, $4F, $42, $20, $49, $20, $48, $41, $56, $45, $20, $54, $4F, $20, $44, $4F, $21, $27, 0
    Data $27, $53, $55, $52, $45, $20, $54, $48, $49, $4E, $47, $20, $2D, $20, $43, $4C, $45, $41, $4E, $20, $4D, $59, $20, $43, $41, $56, $45, $2C, 0
    Data $54, $48, $45, $4E, $20, $59, $4F, $55, $20, $4D, $41, $59, $20, $4C, $45, $41, $56, $45, $27, $2E, 0
    Data 0
    
'''' AUQI
CutsTxt5:
    Data $27, $53, $4F, $20, $54, $48, $45, $20, $54, $4F, $57, $4E, $20, $49, $53, $20, $43, $4C, $45, $41, $4E, $2C, 0
    Data $54, $48, $45, $20, $46, $41, $43, $54, $4F, $52, $59, $20, $49, $53, $20, $43, $4C, $45, $41, $4E, $2C, 0
    Data $54, $48, $45, $20, $43, $41, $56, $45, $20, $49, $53, $20, $43, $4C, $45, $41, $4E, $2E, $2E, $2E, $27, 0
    Data $2D, $20, $41, $4E, $4E, $4F, $55, $4E, $43, $45, $44, $20, $43, $48, $45, $52, $49, $4C, $20, $2D, 0
    Data $27, $20, $57, $48, $41, $54, $20, $4E, $45, $58, $54, $2C, $20, $44, $49, $52, $54, $59, $20, $4F, $4C, $44, $20, $4D, $41, $4E, $3F, 0
    Data $42, $45, $48, $4F, $4C, $44, $20, $4D, $59, $20, $50, $4F, $57, $45, $52, $21, $20, $48, $41, $20, $48, $41, $20, $48, $41, $20, $48, $41, $21, $27, 0
    Data $27, $59, $4F, $55, $20, $53, $55, $52, $45, $4C, $59, $20, $41, $52, $45, $20, $53, $54, $52, $4F, $4E, $47, $2C, $20, $4D, $41, $27, $41, $4D, $2E, $27, 0
    Data $2D, $20, $53, $41, $49, $44, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $20, $2D, 0
    Data $27, $59, $4F, $55, $20, $48, $41, $56, $45, $20, $53, $45, $52, $56, $45, $44, $20, $4D, $45, $20, $57, $45, $4C, $4C, $2E, $20, $49, $20, $53, $48, $41, $4C, $4C, 0
    Data $4C, $45, $54, $20, $59, $4F, $55, $20, $47, $4F, $2E, $20, $54, $48, $45, $20, $53, $45, $41, $4C, $20, $57, $49, $4C, $4C, $20, $42, $45, $20, $4C, $49, $46, $54, $45, $44, $2E, 0
    Data $48, $4F, $4E, $45, $53, $54, $4C, $59, $20, $49, $20, $44, $49, $44, $4E, $27, $54, $20, $54, $48, $49, $4E, $4B, $20, $59, $4F, $55, $20, $57, $45, $52, $45, 0
    Data $41, $42, $4C, $45, $2C, $20, $42, $55, $54, $20, $49, $20, $57, $41, $53, $20, $50, $52, $4F, $56, $45, $44, $20, $57, $52, $4F, $4E, $47, $2E, $27, 0
    Data $27, $53, $4F, $20, $54, $48, $41, $54, $27, $53, $20, $41, $4C, $4C, $3F, $27, $20, $2D, $20, $53, $48, $4F, $55, $54, $45, $44, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $57, $48, $41, $54, $20, $49, $53, $20, $53, $54, $4F, $50, $50, $49, $4E, $47, $20, $4D, $45, $20, $46, $52, $4F, $4D, $20, $47, $45, $54, $54, $49, $4E, $47, 0
    Data $55, $50, $20, $54, $48, $45, $52, $45, $20, $41, $4E, $44, $20, $44, $45, $53, $54, $52, $4F, $59, $20, $59, $4F, $55, $52, $20, $43, $52, $41, $4E, $45, $55, $4D, 0
    Data $54, $48, $45, $20, $57, $41, $59, $20, $49, $20, $44, $49, $44, $20, $57, $49, $54, $48, $20, $41, $4C, $4C, $20, $54, $48, $4F, $53, $45, 0
    Data $4D, $4F, $4E, $53, $54, $45, $52, $53, $20, $4F, $46, $20, $59, $4F, $55, $52, $53, $3F, $27, $2C, 0
    Data $27, $55, $48, $2C, $20, $49, $20, $48, $41, $56, $45, $20, $41, $20, $50, $52, $49, $5A, $45, $20, $46, $4F, $52, $20, $59, $4F, $55, $2E, $27, 0
    Data 0
CutsTxt6:
    Data $27, $41, $20, $50, $52, $49, $5A, $45, $3F, $20, $4F, $48, $2C, $20, $49, $27, $4D, $20, $4E, $4F, $54, $20, $57, $4F, $52, $54, $48, $59, $2E, $2E, $2E, $27, $2C, 0
    Data $4C, $49, $45, $44, $20, $43, $48, $45, $52, $49, $4C, $2C, $20, $46, $4C, $41, $54, $54, $45, $52, $45, $44, $2E, 0
    Data $27, $59, $55, $50, $2C, $20, $49, $20, $41, $4D, $20, $4F, $46, $46, $49, $43, $49, $41, $4C, $4C, $59, $20, $4F, $46, $46, $45, $52, $49, $4E, $47, $20, $59, $4F, $55, 0
    Data $54, $48, $45, $20, $4F, $4E, $45, $20, $41, $4E, $44, $20, $4F, $4E, $4C, $59, $20, $43, $4F, $50, $41, $20, $44, $45, $4C, $20, $4D, $45, $41, $4F, $2C, 0
    Data $27, $43, $41, $55, $53, $45, $20, $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $47, $41, $4E, $41, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $4C, $4C, $45, $56, $41, $4F, $2C, 0
    Data $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $50, $45, $52, $44, $49, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $42, $45, $42, $49, $4F, $27, $2E, 0
    Data $27, $49, $20, $44, $4F, $4E, $27, $54, $20, $51, $55, $49, $54, $45, $20, $47, $45, $54, $20, $59, $4F, $55, $52, $20, $57, $4F, $52, $44, $53, $27, $2C, 0
    Data $53, $41, $49, $44, $20, $43, $48, $45, $52, $49, $4C, $2C, 0
    Data $27, $42, $55, $54, $20, $54, $48, $41, $54, $27, $53, $20, $46, $49, $4E, $45, $2E, $20, $54, $48, $41, $54, $27, $53, $20, $41, $20, $48, $55, $47, $45, $20, $43, $55, $50, 0
    Data $41, $4E, $44, $20, $54, $48, $41, $54, $27, $53, $20, $41, $20, $53, $48, $49, $54, $4C, $4F, $41, $44, $20, $4F, $46, $20, $57, $45, $45, $21, $27, 0
    Data $27, $59, $4F, $55, $20, $4E, $45, $56, $45, $52, $20, $4B, $4E, $4F, $57, $20, $57, $48, $45, $4E, $20, $59, $4F, $55, $20, $41, $52, $45, $20, $47, $4F, $4E, $4E, $41, 0
    Data $4E, $45, $45, $44, $20, $49, $54, $2C, $20, $53, $41, $56, $45, $20, $49, $54, $20, $57, $45, $4C, $4C, $21, $27, 0
    Data $53, $4F, $20, $43, $48, $45, $52, $49, $4C, $20, $57, $41, $53, $20, $48, $41, $50, $50, $59, $2C, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $20, $57, $41, $53, 0
    Data $48, $41, $50, $50, $59, $2C, $20, $41, $4E, $44, $20, $45, $56, $45, $52, $59, $54, $48, $49, $4E, $47, $20, $57, $41, $53, $20, $43, $4F, $4F, $4C, $2E, 0
    Data $54, $48, $41, $54, $27, $53, $20, $54, $48, $45, $20, $57, $41, $59, $20, $49, $54, $20, $53, $48, $4F, $55, $4C, $44, $20, $42, $45, $2E, 0
    Data $41, $4E, $44, $20, $4E, $4F, $57, $20, $57, $48, $41, $54, $3F, $20, $57, $45, $4C, $4C, $2C, $20, $4E, $45, $57, $20, $41, $44, $56, $45, $4E, $54, $55, $52, $45, $53, 0
    Data $41, $57, $41, $49, $54, $20, $43, $48, $45, $52, $49, $4C, $2E, $20, $4A, $55, $53, $54, $20, $53, $54, $41, $59, $20, $54, $55, $4E, $45, $44, $21, 0
    Data $54, $48, $41, $4E, $4B, $53, $20, $46, $4F, $52, $20, $50, $4C, $41, $59, $49, $4E, $47, $21, 0
    Data 0
'''' AUQI
    
CutsTxt7:
    Data $27, $53, $4F, $20, $54, $48, $45, $20, $54, $4F, $57, $4E, $20, $49, $53, $20, $43, $4C, $45, $41, $4E, $2C, 0
    Data $54, $48, $45, $20, $46, $41, $43, $54, $4F, $52, $59, $20, $49, $53, $20, $43, $4C, $45, $41, $4E, $2C, 0
    Data $54, $48, $45, $20, $43, $41, $56, $45, $20, $49, $53, $20, $43, $4C, $45, $41, $4E, $2E, $2E, $2E, $27, 0
    Data $2D, $20, $41, $4E, $4E, $4F, $55, $4E, $43, $45, $44, $20, $43, $48, $45, $52, $49, $4C, $20, $2D, 0
    Data $27, $20, $57, $48, $41, $54, $20, $4E, $45, $58, $54, $2C, $20, $44, $49, $52, $54, $59, $20, $4F, $4C, $44, $20, $4D, $41, $4E, $3F, 0
    Data $42, $45, $48, $4F, $4C, $44, $20, $4D, $59, $20, $50, $4F, $57, $45, $52, $21, $20, $48, $41, $20, $48, $41, $20, $48, $41, $20, $48, $41, $21, $27, 0
    Data $27, $59, $4F, $55, $20, $53, $55, $52, $45, $4C, $59, $20, $41, $52, $45, $20, $53, $54, $52, $4F, $4E, $47, $2C, $20, $4D, $41, $27, $41, $4D, $2E, $27, 0
    Data $2D, $20, $53, $41, $49, $44, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $20, $2D, 0
    Data $27, $59, $4F, $55, $20, $48, $41, $56, $45, $20, $53, $45, $52, $56, $45, $44, $20, $4D, $45, $20, $57, $45, $4C, $4C, $2E, $20, $49, $20, $53, $48, $41, $4C, $4C, 0
    Data $4C, $45, $54, $20, $59, $4F, $55, $20, $47, $4F, $2E, $20, $54, $48, $45, $20, $53, $45, $41, $4C, $20, $57, $49, $4C, $4C, $20, $42, $45, $20, $4C, $49, $46, $54, $45, $44, $2E, 0
    Data $48, $4F, $4E, $45, $53, $54, $4C, $59, $20, $49, $20, $44, $49, $44, $4E, $27, $54, $20, $54, $48, $49, $4E, $4B, $20, $59, $4F, $55, $20, $57, $45, $52, $45, 0
    Data $41, $42, $4C, $45, $2C, $20, $42, $55, $54, $20, $49, $20, $57, $41, $53, $20, $50, $52, $4F, $56, $45, $44, $20, $57, $52, $4F, $4E, $47, $2E, $27, 0
    Data $27, $53, $4F, $20, $54, $48, $41, $54, $27, $53, $20, $41, $4C, $4C, $3F, $27, $20, $2D, $20, $53, $48, $4F, $55, $54, $45, $44, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $57, $48, $41, $54, $20, $49, $53, $20, $53, $54, $4F, $50, $50, $49, $4E, $47, $20, $4D, $45, $20, $46, $52, $4F, $4D, $20, $47, $45, $54, $54, $49, $4E, $47, 0
    Data $55, $50, $20, $54, $48, $45, $52, $45, $20, $41, $4E, $44, $20, $44, $45, $53, $54, $52, $4F, $59, $20, $59, $4F, $55, $52, $20, $43, $52, $41, $4E, $45, $55, $4D, 0
    Data $54, $48, $45, $20, $57, $41, $59, $20, $49, $20, $44, $49, $44, $20, $57, $49, $54, $48, $20, $41, $4C, $4C, $20, $54, $48, $4F, $53, $45, 0
    Data $4D, $4F, $4E, $53, $54, $45, $52, $53, $20, $4F, $46, $20, $59, $4F, $55, $52, $53, $3F, $27, $2C, 0
    Data $27, $55, $48, $2C, $20, $49, $20, $48, $41, $56, $45, $20, $41, $20, $50, $52, $49, $5A, $45, $20, $46, $4F, $52, $20, $59, $4F, $55, $2E, $27, 0
    Data 0
CutsTxt8:
    Data $27, $41, $20, $50, $52, $49, $5A, $45, $3F, $20, $4F, $48, $2C, $20, $49, $27, $4D, $20, $4E, $4F, $54, $20, $57, $4F, $52, $54, $48, $59, $2E, $2E, $2E, $27, $2C, 0
    Data $4C, $49, $45, $44, $20, $43, $48, $45, $52, $49, $4C, $2C, $20, $46, $4C, $41, $54, $54, $45, $52, $45, $44, $2E, 0
    Data $27, $59, $55, $50, $2C, $20, $49, $20, $41, $4D, $20, $4F, $46, $46, $49, $43, $49, $41, $4C, $4C, $59, $20, $4F, $46, $46, $45, $52, $49, $4E, $47, $20, $59, $4F, $55, 0
    Data $54, $48, $45, $20, $4F, $4E, $45, $20, $41, $4E, $44, $20, $4F, $4E, $4C, $59, $20, $43, $4F, $50, $41, $20, $44, $45, $4C, $20, $4D, $45, $41, $4F, $2C, 0
    Data $27, $43, $41, $55, $53, $45, $20, $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $47, $41, $4E, $41, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $4C, $4C, $45, $56, $41, $4F, $2C, 0
    Data $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $50, $45, $52, $44, $49, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $42, $45, $42, $49, $4F, $27, $2E, 0
    Data $27, $49, $20, $44, $4F, $4E, $27, $54, $20, $51, $55, $49, $54, $45, $20, $47, $45, $54, $20, $59, $4F, $55, $52, $20, $57, $4F, $52, $44, $53, $27, $2C, 0
    Data $53, $41, $49, $44, $20, $43, $48, $45, $52, $49, $4C, $2C, 0
    Data $27, $42, $55, $54, $20, $54, $48, $41, $54, $27, $53, $20, $46, $49, $4E, $45, $2E, $20, $54, $48, $41, $54, $27, $53, $20, $41, $20, $48, $55, $47, $45, $20, $43, $55, $50, 0
    Data $41, $4E, $44, $20, $54, $48, $41, $54, $27, $53, $20, $41, $20, $53, $48, $49, $54, $4C, $4F, $41, $44, $20, $4F, $46, $20, $57, $45, $45, $21, $27, 0
    Data $27, $59, $4F, $55, $20, $4E, $45, $56, $45, $52, $20, $4B, $4E, $4F, $57, $20, $57, $48, $45, $4E, $20, $59, $4F, $55, $20, $41, $52, $45, $20, $47, $4F, $4E, $4E, $41, 0
    Data $4E, $45, $45, $44, $20, $49, $54, $2C, $20, $53, $41, $56, $45, $20, $49, $54, $20, $57, $45, $4C, $4C, $21, $27, 0
    Data $53, $4F, $20, $43, $48, $45, $52, $49, $4C, $20, $57, $41, $53, $20, $48, $41, $50, $50, $59, $2C, $20, $54, $48, $45, $20, $4D, $41, $59, $4F, $52, $20, $57, $41, $53, 0
    Data $48, $41, $50, $50, $59, $2C, $20, $41, $4E, $44, $20, $45, $56, $45, $52, $59, $54, $48, $49, $4E, $47, $20, $57, $41, $53, $20, $43, $4F, $4F, $4C, $2E, 0
    Data $54, $48, $41, $54, $27, $53, $20, $54, $48, $45, $20, $57, $41, $59, $20, $49, $54, $20, $53, $48, $4F, $55, $4C, $44, $20, $42, $45, $2E, 0
    Data $41, $4E, $44, $20, $4E, $4F, $57, $20, $57, $48, $41, $54, $3F, $20, $57, $45, $4C, $4C, $2C, $20, $4E, $45, $57, $20, $41, $44, $56, $45, $4E, $54, $55, $52, $45, $53, 0
    Data $41, $57, $41, $49, $54, $20, $43, $48, $45, $52, $49, $4C, $2E, $20, $4A, $55, $53, $54, $20, $53, $54, $41, $59, $20, $54, $55, $4E, $45, $44, $21, 0
    Data $54, $48, $41, $4E, $4B, $53, $20, $46, $4F, $52, $20, $50, $4C, $41, $59, $49, $4E, $47, $21, 0
    Data 0

'' Spanish too

CutsTxtE1:
    Data $52, $45, $43, $55, $45, $52, $44, $41, $20, $51, $55, $45, $20, $43, $48, $45, $52, $49, $4C, $20, $4E, $4F, $20, $45, $52, $41, $20, $46, $45, $4C, $49, $5A, 0
    Data $45, $4E, $20, $53, $55, $20, $56, $49, $45, $4A, $4F, $20, $42, $4F, $53, $51, $55, $45, $20, $46, $4C, $4F, $52, $49, $44, $4F, $2C, 0
    Data $41, $53, $49, $20, $51, $55, $45, $20, $48, $49, $5A, $4F, $20, $4C, $41, $53, $20, $4D, $41, $4C, $45, $54, $41, $53, $20, $59, $20, $53, $45, $20, $46, $55, $45, 0
    Data $41, $20, $42, $55, $53, $43, $41, $52, $53, $45, $20, $4C, $41, $20, $56, $49, $44, $41, $20, $50, $4F, $52, $20, $45, $4C, $20, $4D, $55, $4E, $44, $4F, $2E, 0
    Data $59, $20, $45, $53, $54, $4F, $20, $46, $55, $45, $20, $4C, $4F, $20, $51, $55, $45, $20, $4F, $43, $55, $52, $52, $49, $4F, 0
    Data $48, $41, $43, $45, $20, $54, $41, $4E, $20, $53, $4F, $4C, $4F, $20, $55, $4E, $41, $20, $53, $45, $4D, $41, $4E, $41, $20, $2E, $20, $2E, $20, $2E, 0
    Data $43, $48, $45, $52, $49, $4C, $20, $53, $45, $20, $41, $50, $52, $4F, $58, $49, $4D, $41, $20, $41, $20, $4C, $41, $20, $43, $49, $55, $44, $41, $44, $2C, 0
    Data $56, $45, $20, $4C, $4F, $53, $20, $45, $44, $49, $46, $49, $43, $49, $4F, $53, $20, $45, $4E, $20, $45, $4C, $20, $48, $4F, $52, $49, $5A, $4F, $4E, $54, $45, 0
    Data $59, $20, $53, $45, $20, $49, $4D, $41, $47, $49, $4E, $41, $20, $55, $4E, $41, $20, $56, $49, $44, $41, $20, $4D, $45, $4A, $4F, $52, $2C, 0
    Data $4C, $45, $4A, $4F, $53, $20, $44, $45, $20, $4D, $4F, $4E, $4F, $53, $20, $59, $20, $53, $45, $54, $41, $53, $2E, 0
    Data $50, $45, $52, $4F, $20, $4E, $4F, $20, $50, $55, $45, $44, $45, $20, $4E, $49, $20, $49, $4D, $41, $47, $49, $4E, $41, $52, $20, $4C, $41, 0
    Data $48, $4F, $52, $52, $49, $42, $4C, $45, $20, $53, $4F, $52, $50, $52, $45, $53, $41, $20, $51, $55, $45, $20, $4C, $45, $20, $45, $53, $50, $45, $52, $41, $2E, 0
    Data $50, $4F, $52, $51, $55, $45, $20, $54, $4F, $44, $41, $53, $20, $4C, $41, $53, $20, $43, $41, $4C, $4C, $45, $53, $20, $45, $53, $54, $41, $4E, 0
    Data $56, $41, $43, $49, $41, $53, $2E, $20, $27, $48, $41, $59, $20, $41, $4C, $47, $55, $49, $45, $4E, $20, $41, $48, $49, $3F, $27, $2E, 0
    Data $4E, $49, $20, $55, $4E, $20, $53, $4F, $4C, $4F, $20, $53, $4F, $4E, $49, $44, $4F, $20, $44, $45, $20, $42, $55, $4C, $4C, $49, $43, $49, $4F, 0
    Data $48, $55, $4D, $41, $4E, $4F, $2C, $20, $53, $4F, $4C, $4F, $20, $55, $4E, $20, $50, $52, $4F, $46, $55, $4E, $44, $4F, $2C, $20, $4F, $53, $43, $55, $52, $4F, $2C, 0
    Data $4D, $41, $4C, $49, $47, $4E, $4F, $20, $47, $52, $55, $5C, $49, $44, $4F, $2E, $20, $4C, $41, $20, $48, $41, $4E, $20, $44, $45, $53, $43, $55, $42, $49, $45, $52, $54, $4F, 0
    Data $59, $20, $43, $49, $45, $4E, $20, $4F, $4A, $4F, $53, $20, $4C, $41, $20, $43, $4F, $4E, $54, $45, $4D, $50, $4C, $41, $4E, $2E, 0
    Data 0
CutsTxtE2:
    Data $27, $50, $45, $52, $4F, $20, $51, $55, $45, $20, $4D, $49, $45, $52, $44, $41, $20, $45, $53, $20, $45, $53, $54, $4F, $3F, $27, 0
    Data $53, $45, $20, $50, $52, $45, $47, $55, $4E, $54, $41, $20, $43, $48, $45, $52, $49, $4C, $20, $45, $4E, $20, $56, $4F, $5A, $20, $41, $4C, $54, $41, $2E, 0
    Data $27, $4F, $48, $2C, $20, $4E, $4F, $20, $54, $45, $20, $4C, $4F, $20, $48, $41, $42, $49, $41, $20, $4D, $45, $4E, $43, $49, $4F, $4E, $41, $44, $4F, $3F, $27, 0
    Data $2D, $20, $45, $52, $41, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, $20, $51, $55, $49, $45, $4E, $20, $48, $41, $42, $4C, $41, $42, $41, $2E, 0
    Data $27, $4C, $41, $20, $43, $49, $55, $44, $41, $44, $20, $45, $53, $54, $41, $20, $43, $4F, $4E, $44, $45, $4E, $41, $44, $41, $2C, $20, $54, $4F, $44, $4F, $53, 0
    Data $53, $45, $20, $48, $41, $4E, $20, $43, $4F, $4E, $56, $45, $52, $54, $49, $44, $4F, $20, $45, $4E, $20, $4D, $4F, $4E, $53, $54, $52, $55, $4F, $53, $21, $27, 0
    Data $27, $50, $45, $52, $4F, $20, $51, $55, $45, $20, $48, $45, $43, $48, $49, $43, $45, $52, $49, $41, $20, $45, $53, $20, $45, $53, $54, $41, $3F, 0
    Data $4D, $45, $20, $56, $4F, $59, $20, $44, $45, $20, $41, $51, $55, $49, $21, $20, $41, $44, $49, $4F, $53, $21, $27, 0
    Data $2D, $20, $44, $49, $4A, $4F, $20, $43, $48, $45, $52, $49, $4C, $2E, $20, $27, $50, $45, $52, $4F, $20, $4E, $4F, $20, $50, $55, $45, $44, $45, $53, 0
    Data $48, $45, $20, $4C, $45, $56, $41, $4E, $54, $41, $44, $4F, $20, $55, $4E, $20, $53, $45, $4C, $4C, $4F, $20, $4D, $41, $47, $49, $43, $4F, $2E, 0
    Data $4E, $4F, $20, $50, $4F, $44, $52, $41, $53, $20, $49, $52, $54, $45, $20, $48, $41, $53, $54, $41, $20, $51, $55, $45, $20, $54, $45, $20, $4C, $49, $42, $52, $45, $53, 0
    Data $48, $41, $53, $54, $41, $20, $44, $45, $4C, $20, $55, $4C, $54, $49, $4D, $4F, $20, $4D, $4F, $4E, $53, $54, $52, $55, $4F, $2E, 0
    Data $4E, $4F, $20, $4C, $4F, $53, $20, $50, $4F, $44, $52, $41, $53, $20, $54, $4F, $43, $41, $52, $20, $53, $49, $20, $53, $45, $20, $4D, $55, $45, $56, $45, $4E, $2C, 0
    Data $50, $45, $52, $4F, $20, $4C, $41, $53, $20, $56, $49, $42, $52, $41, $43, $49, $4F, $4E, $45, $53, $20, $4C, $4F, $53, $20, $41, $54, $55, $52, $44, $45, $4E, $2E, 0
    Data $55, $53, $41, $20, $45, $53, $41, $53, $20, $56, $49, $45, $4A, $41, $53, $20, $4D, $41, $51, $55, $49, $4E, $41, $53, $20, $50, $41, $52, $41, $20, $51, $55, $45, $20, $53, $45, 0
    Data $50, $41, $52, $45, $4E, $20, $55, $4E, $20, $52, $41, $54, $4F, $2E, $20, $45, $4D, $50, $4C, $45, $41, $4C, $41, $53, $20, $53, $41, $42, $49, $41, $4D, $45, $4E, $54, $45, 0
    Data $59, $20, $53, $41, $4C, $54, $41, $20, $53, $4F, $42, $52, $45, $20, $53, $55, $53, $20, $43, $41, $42, $45, $5A, $41, $53, $21, $27, 0
    Data $44, $49, $4A, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, 0
    Data 0
CutsTxtE3:
    Data $27, $41, $48, $4F, $52, $41, $20, $4C, $41, $53, $20, $43, $41, $4C, $4C, $45, $53, $20, $45, $53, $54, $41, $4E, $20, $4C, $49, $4D, $50, $49, $41, $53, $27, 0
    Data $2D, $20, $47, $52, $49, $54, $4F, $20, $43, $48, $45, $52, $49, $4C, $2E, 0
    Data $27, $59, $41, $20, $56, $45, $4F, $2C, $20, $59, $41, $2C, $20, $53, $45, $5C, $4F, $52, $41, $27, 0
    Data $2D, $20, $44, $49, $4A, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, $2E, 0
    Data $27, $50, $45, $52, $4F, $20, $54, $55, $20, $54, $52, $41, $42, $41, $4A, $4F, $20, $41, $51, $55, $49, $20, $41, $55, $4E, $20, $4E, $4F, $20, $48, $41, 0
    Data $54, $45, $52, $4D, $49, $4E, $41, $44, $4F, $2E, $20, $56, $45, $20, $41, $20, $4C, $41, $20, $56, $49, $45, $4A, $41, $20, $46, $41, $42, $52, $49, $43, $41, $27, 0
    Data $27, $51, $55, $45, $20, $45, $53, $54, $41, $53, $20, $44, $49, $43, $49, $45, $4E, $44, $4F, $2C, $20, $56, $49, $45, $4A, $41, $4C, $45, $53, $3F, $27, 0
    Data $2D, $20, $50, $52, $4F, $54, $45, $53, $54, $4F, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $48, $41, $59, $20, $4D, $41, $53, $20, $4D, $4F, $4E, $53, $54, $52, $55, $4F, $53, $20, $41, $4C, $4C, $49, $2E, $20, $4D, $45, $20, $56, $4F, $59, 0
    Data $41, $20, $41, $48, $4F, $52, $52, $41, $52, $20, $55, $4E, $20, $4D, $49, $4C, $4C, $4F, $4E, $20, $45, $4E, $20, $53, $55, $45, $4C, $44, $4F, $53, $2C, 0
    Data $50, $45, $52, $4F, $20, $48, $41, $59, $20, $51, $55, $45, $20, $48, $41, $43, $45, $52, $20, $4C, $49, $4D, $50, $49, $45, $5A, $41, $2E, $27, 0
    Data $2D, $20, $45, $58, $50, $4C, $49, $43, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, $2E, 0
    Data $27, $54, $48, $45, $20, $4D, $41, $54, $41, $52, $45, $20, $43, $4F, $4E, $20, $4D, $49, $53, $20, $4D, $41, $4E, $4F, $53, $20, $44, $45, $53, $4E, $55, $44, $41, $53, $2C, 0
    Data $54, $45, $20, $4C, $4F, $20, $4A, $55, $52, $4F, $21, $27, 0
    Data $2D, $20, $45, $58, $50, $4C, $4F, $54, $4F, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $43, $41, $4C, $4D, $41, $54, $45, $20, $59, $20, $4D, $49, $44, $45, $20, $54, $55, $53, $20, $50, $4F, $53, $49, $42, $49, $4C, $49, $44, $41, $44, $45, $53, 0
    Data $48, $41, $5A, $20, $4C, $4F, $20, $51, $55, $45, $20, $54, $45, $20, $44, $49, $47, $4F, $20, $4F, $20, $54, $45, $20, $50, $55, $44, $52, $49, $52, $41, $53, 0
    Data $41, $51, $55, $49, $27, $20, $2D, $20, $52, $49, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, $2E, 0
    Data 0
CutsTxtE4:
    Data $27, $59, $20, $41, $48, $4F, $52, $41, $20, $45, $53, $54, $4F, $59, $20, $54, $41, $4E, $20, $4D, $4F, $53, $51, $55, $45, $41, $44, $41, $20, $51, $55, $45, 0
    Data $51, $55, $45, $4D, $4F, $21, $20, $44, $45, $4A, $41, $4D, $45, $20, $49, $52, $4D, $45, $2C, $20, $42, $41, $53, $55, $52, $41, $21, $27, 0
    Data $2D, $20, $43, $48, $49, $4C, $4C, $4F, $20, $43, $48, $45, $52, $49, $4C, 0
    Data $27, $56, $45, $4E, $47, $41, $2C, $20, $4D, $49, $20, $4E, $49, $5C, $41, $2C, $20, $51, $55, $45, $20, $53, $45, $20, $51, $55, $45, $20, $54, $45, $20, $4C, $4F, 0
    Data $45, $53, $54, $41, $53, $20, $50, $41, $53, $41, $4E, $44, $4F, $20, $42, $4F, $4D, $42, $41, $20, $52, $45, $50, $41, $52, $54, $49, $45, $4E, $44, $4F, 0
    Data $54, $4F, $52, $54, $41, $5A, $4F, $53, $21, $27, $20, $2D, $20, $43, $4F, $4E, $54, $45, $53, $54, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, 0
    Data $27, $53, $45, $52, $41, $20, $56, $45, $52, $44, $41, $44, $2C, $20, $50, $45, $52, $4F, $20, $4D, $45, $20, $54, $4F, $43, $41, $20, $45, $4C, 0
    Data $54, $4F, $54, $4F, $4E, $55, $54, $20, $48, $41, $43, $45, $52, $20, $43, $4F, $53, $41, $53, $20, $50, $4F, $52, $20, $4F, $42, $4C, $49, $47, $41, $43, $49, $4F, $4E, $27, 0
    Data $27, $50, $45, $52, $4F, $20, $43, $41, $53, $49, $20, $48, $41, $53, $20, $54, $45, $52, $4D, $49, $4E, $41, $44, $4F, $2C, $20, $53, $45, $5C, $4F, $52, $41, 0
    Data $56, $45, $53, $20, $4C, $41, $20, $4F, $53, $43, $55, $52, $41, $20, $43, $55, $45, $56, $41, $20, $41, $48, $49, $20, $44, $45, $4C, $41, $4E, $54, $45, $3F, 0
    Data $45, $58, $54, $52, $41, $49, $41, $4D, $4F, $53, $20, $51, $55, $49, $4D, $49, $43, $4F, $53, $20, $44, $45, $20, $41, $48, $49, $2E, $20, $41, $20, $4C, $4F, 0
    Data $4D, $45, $4A, $4F, $52, $20, $50, $4F, $52, $20, $45, $53, $4F, $20, $54, $4F, $44, $4F, $53, $20, $45, $53, $54, $41, $20, $52, $41, $52, $4F, $53, $2E, $27, 0
    Data $27, $4F, $2E, $4B, $2E, $2C, $20, $4F, $2E, $4B, $2E, $2C, $20, $41, $4C, $43, $41, $4C, $44, $45, $43, $49, $54, $4F, $2C, 0
    Data $54, $45, $20, $56, $4F, $59, $20, $41, $20, $4C, $49, $4D, $50, $49, $41, $52, $20, $4C, $41, $20, $43, $55, $45, $56, $41, $20, $54, $41, $4D, $42, $49, $45, $4E, $2C, 0
    Data $50, $45, $52, $4F, $20, $53, $4F, $4C, $4F, $20, $53, $49, $20, $50, $52, $4F, $4D, $45, $54, $45, $53, $20, $51, $55, $45, $20, $53, $45, $52, $41, 0
    Data $4C, $4F, $20, $55, $4C, $54, $49, $4D, $4F, $20, $51, $55, $45, $20, $54, $45, $4E, $47, $41, $20, $51, $55, $45, $20, $48, $41, $43, $45, $52, $21, $27, 0
    Data $27, $50, $4F, $52, $20, $53, $55, $50, $55, $45, $53, $54, $4F, $2E, $20, $4C, $49, $4D, $50, $49, $41, $20, $4D, $49, $20, $43, $55, $45, $56, $41, $2C, 0
    Data $59, $20, $54, $45, $20, $50, $4F, $44, $52, $41, $53, $20, $49, $57, $52, $2E, $27, 0
    Data 0
    
   '''asdpoiasodpo
CutsTxtE5:
    Data $27, $50, $55, $45, $53, $20, $4C, $41, $20, $43, $49, $55, $44, $41, $44, $20, $45, $53, $54, $41, $20, $4C, $49, $4D, $50, $49, $41, $2C, 0
    Data $4C, $41, $20, $46, $41, $42, $52, $49, $43, $41, $20, $45, $53, $54, $41, $20, $4C, $49, $4D, $50, $49, $41, $2C, 0
    Data $4C, $41, $20, $43, $55, $45, $56, $41, $20, $54, $41, $4D, $42, $49, $45, $4E, $2E, $2E, $2E, $27, 0
    Data $2D, $20, $41, $4E, $55, $4E, $43, $49, $4F, $20, $43, $48, $45, $52, $49, $4C, $20, $2D, 0
    Data $27, $59, $20, $41, $48, $4F, $52, $41, $20, $51, $55, $45, $2C, $20, $47, $55, $41, $52, $52, $45, $52, $41, $53, $3F, $20, $51, $55, $45, $20, $54, $45, 0
    Data $48, $45, $20, $56, $49, $53, $54, $4F, $20, $4D, $49, $52, $41, $52, $4D, $45, $20, $45, $4C, $20, $42, $55, $59, $41, $54, $45, $27, 0
    Data $27, $43, $4F, $4E, $54, $45, $4D, $50, $4C, $41, $20, $4D, $49, $20, $50, $4F, $44, $45, $57, $52, $2C, $20, $43, $4F, $53, $49, $4C, $4C, $41, $21, 0
    Data $41, $20, $56, $45, $52, $20, $51, $55, $49, $45, $4E, $20, $45, $53, $20, $43, $41, $50, $41, $5A, $20, $44, $45, $20, $41, $4C, $47, $4F, $20, $41, $53, $49, $27, 0
    Data $27, $45, $52, $45, $53, $20, $46, $55, $45, $52, $54, $45, $20, $44, $45, $20, $4C, $41, $20, $4C, $45, $43, $48, $45, $2C, $20, $43, $48, $49, $43, $41, $27, 0
    Data $2D, $20, $43, $4F, $4E, $43, $45, $44, $49, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, $20, $2D, 0
    Data $27, $4D, $45, $20, $48, $41, $53, $20, $53, $45, $52, $56, $49, $44, $4F, $20, $42, $49, $45, $4E, $2E, $20, $4C, $45, $56, $41, $4E, $54, $41, $52, $45, $20, $45, $4C, 0
    Data $53, $45, $4C, $4C, $4F, $20, $51, $55, $45, $20, $54, $45, $20, $52, $45, $54, $49, $45, $4E, $45, $2E, $27, 0
    Data $27, $59, $20, $45, $53, $4F, $20, $45, $53, $20, $54, $4F, $44, $4F, $3F, $27, $20, $2D, $20, $47, $52, $49, $54, $4F, $20, $43, $48, $45, $52, $49, $4C, $20, $2D, 0
    Data $27, $51, $55, $45, $20, $50, $4F, $44, $52, $49, $41, $20, $45, $56, $49, $54, $41, $52, $20, $51, $55, $45, $20, $53, $55, $42, $49, $45, $52, $41, 0
    Data $41, $48, $49, $20, $41, $52, $52, $49, $42, $41, $20, $41, $20, $41, $50, $4C, $41, $53, $54, $41, $52, $54, $45, $20, $45, $4C, $20, $43, $45, $42, $4F, $4C, $4C, $4F, 0
    Data $44, $45, $20, $4C, $41, $20, $4D, $49, $53, $4D, $41, $20, $46, $4F, $52, $4D, $41, $20, $51, $55, $45, $20, $48, $49, $43, $45, $20, $43, $4F, $4E, 0
    Data $54, $4F, $44, $4F, $53, $20, $45, $53, $4F, $53, $20, $42, $49, $43, $48, $4F, $53, $20, $50, $52, $55, $53, $49, $41, $4E, $4F, $53, $09, $3F, $27, 0
    Data $27, $45, $55, $55, $55, $48, $20, $2D, $20, $54, $45, $4E, $47, $4F, $20, $55, $4E, $20, $50, $52, $45, $4D, $49, $4F, $20, $50, $41, $52, $41, $20, $54, $49, $27, 0
    Data 0
CutsTxtE6:
    Data $27, $55, $4E, $20, $50, $52, $45, $4D, $49, $4F, $3F, $20, $4E, $4F, $20, $4D, $45, $20, $4C, $4F, $20, $4D, $45, $52, $45, $5A, $43, $4F, $2E, $2E, $2E, $27, 0
    Data $2D, $20, $4D, $49, $4E, $54, $49, $4F, $20, $43, $48, $45, $52, $49, $4C, $2C, $20, $48, $41, $4C, $41, $47, $41, $44, $41, $2E, 0
    Data $27, $53, $49, $2E, $20, $4F, $46, $49, $43, $49, $41, $4C, $4D, $45, $4E, $54, $45, $20, $54, $45, $20, $4F, $54, $4F, $52, $47, $4F, $20, $4C, $41, 0
    Data $55, $4E, $49, $43, $41, $20, $45, $20, $49, $4E, $49, $4D, $49, $54, $41, $42, $4C, $45, $20, $43, $4F, $50, $41, $20, $44, $45, $4C, $20, $4D, $45, $41, $4F, $2C, 0
    Data $50, $4F, $52, $51, $55, $45, $20, $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $47, $41, $4E, $41, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $4C, $4C, $45, $56, $41, $4F, $2C, 0
    Data $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $50, $45, $52, $44, $49, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $42, $45, $42, $49, $4F, $27, $2E, 0
    Data $27, $4E, $4F, $20, $45, $4E, $54, $49, $45, $4E, $44, $4F, $20, $42, $49, $45, $4E, $20, $4C, $4F, $20, $51, $55, $45, $20, $44, $49, $43, $45, $53, $27, $2C, 0
    Data $44, $49, $4A, $4F, $20, $43, $48, $45, $52, $49, $4C, $2C, $20, $27, $50, $45, $52, $4F, $20, $4D, $4F, $4C, $41, $2E, $2E, $2E, 0
    Data $44, $45, $20, $56, $45, $52, $44, $41, $44, $20, $45, $53, $20, $55, $4E, $41, $20, $43, $4F, $50, $41, $20, $45, $4E, $4F, $52, $4D, $45, $2E, $2E, $2E, 0
    Data $56, $41, $59, $41, $20, $4D, $4F, $4E, $54, $4F, $4E, $41, $43, $4F, $20, $44, $45, $20, $50, $49, $50, $49, $21, $27, 0
    Data $27, $4E, $55, $4E, $43, $41, $20, $53, $41, $42, $45, $53, $20, $43, $55, $41, $4E, $44, $4F, $20, $4C, $4F, $20, $56, $41, $53, $20, $41, 0
    Data $4E, $45, $43, $45, $53, $49, $54, $41, $52, $2C, $20, $47, $55, $41, $52, $44, $41, $4C, $4F, $20, $42, $49, $45, $4E, $21, $27, 0
    Data $59, $20, $41, $53, $49, $20, $43, $48, $45, $52, $49, $4C, $20, $46, $55, $45, $20, $46, $45, $4C, $49, $5A, $2C, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, 0
    Data $46, $55, $45, $20, $46, $45, $4C, $49, $5A, $2C, $20, $59, $20, $54, $4F, $44, $4F, $20, $45, $52, $41, $20, $47, $55, $41, $43, $48, $49, $2C, 0
    Data $51, $55, $45, $20, $45, $53, $20, $43, $4F, $4D, $4F, $20, $44, $45, $42, $45, $20, $53, $45, $52, $2E, 0
    Data $59, $20, $41, $48, $4F, $52, $41, $20, $51, $55, $45, $3F, $20, $42, $55, $45, $4E, $4F, $2C, $20, $4E, $55, $45, $56, $41, $53, $20, $41, $56, $45, $4E, $54, $55, $52, $41, $53, 0
    Data $45, $53, $50, $45, $52, $41, $4E, $20, $41, $20, $43, $48, $45, $52, $49, $4C, $2E, $20, $45, $53, $54, $41, $4F, $53, $20, $41, $54, $45, $4E, $54, $4F, $53, $2E, 0
    Data $47, $52, $41, $43, $49, $41, $53, $20, $50, $4F, $52, $20, $4A, $55, $47, $41, $52, $21, 0
    Data 0
   
   '''asdpoiasodpo
   
CutsTxtE7:
    Data $27, $50, $55, $45, $53, $20, $4C, $41, $20, $43, $49, $55, $44, $41, $44, $20, $45, $53, $54, $41, $20, $4C, $49, $4D, $50, $49, $41, $2C, 0
    Data $4C, $41, $20, $46, $41, $42, $52, $49, $43, $41, $20, $45, $53, $54, $41, $20, $4C, $49, $4D, $50, $49, $41, $2C, 0
    Data $4C, $41, $20, $43, $55, $45, $56, $41, $20, $54, $41, $4D, $42, $49, $45, $4E, $2E, $2E, $2E, $27, 0
    Data $2D, $20, $41, $4E, $55, $4E, $43, $49, $4F, $20, $43, $48, $45, $52, $49, $4C, $20, $2D, 0
    Data $27, $59, $20, $41, $48, $4F, $52, $41, $20, $51, $55, $45, $2C, $20, $47, $55, $41, $52, $52, $45, $52, $41, $53, $3F, $20, $51, $55, $45, $20, $54, $45, 0
    Data $48, $45, $20, $56, $49, $53, $54, $4F, $20, $4D, $49, $52, $41, $52, $4D, $45, $20, $45, $4C, $20, $42, $55, $59, $41, $54, $45, $27, 0
    Data $27, $43, $4F, $4E, $54, $45, $4D, $50, $4C, $41, $20, $4D, $49, $20, $50, $4F, $44, $45, $57, $52, $2C, $20, $43, $4F, $53, $49, $4C, $4C, $41, $21, 0
    Data $41, $20, $56, $45, $52, $20, $51, $55, $49, $45, $4E, $20, $45, $53, $20, $43, $41, $50, $41, $5A, $20, $44, $45, $20, $41, $4C, $47, $4F, $20, $41, $53, $49, $27, 0
    Data $27, $45, $52, $45, $53, $20, $46, $55, $45, $52, $54, $45, $20, $44, $45, $20, $4C, $41, $20, $4C, $45, $43, $48, $45, $2C, $20, $43, $48, $49, $43, $41, $27, 0
    Data $2D, $20, $43, $4F, $4E, $43, $45, $44, $49, $4F, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, $20, $2D, 0
    Data $27, $4D, $45, $20, $48, $41, $53, $20, $53, $45, $52, $56, $49, $44, $4F, $20, $42, $49, $45, $4E, $2E, $20, $4C, $45, $56, $41, $4E, $54, $41, $52, $45, $20, $45, $4C, 0
    Data $53, $45, $4C, $4C, $4F, $20, $51, $55, $45, $20, $54, $45, $20, $52, $45, $54, $49, $45, $4E, $45, $2E, $27, 0
    Data $27, $59, $20, $45, $53, $4F, $20, $45, $53, $20, $54, $4F, $44, $4F, $3F, $27, $20, $2D, $20, $47, $52, $49, $54, $4F, $20, $43, $48, $45, $52, $49, $4C, $20, $2D, 0
    Data $27, $51, $55, $45, $20, $50, $4F, $44, $52, $49, $41, $20, $45, $56, $49, $54, $41, $52, $20, $51, $55, $45, $20, $53, $55, $42, $49, $45, $52, $41, 0
    Data $41, $48, $49, $20, $41, $52, $52, $49, $42, $41, $20, $41, $20, $41, $50, $4C, $41, $53, $54, $41, $52, $54, $45, $20, $45, $4C, $20, $43, $45, $42, $4F, $4C, $4C, $4F, 0
    Data $44, $45, $20, $4C, $41, $20, $4D, $49, $53, $4D, $41, $20, $46, $4F, $52, $4D, $41, $20, $51, $55, $45, $20, $48, $49, $43, $45, $20, $43, $4F, $4E, 0
    Data $54, $4F, $44, $4F, $53, $20, $45, $53, $4F, $53, $20, $42, $49, $43, $48, $4F, $53, $20, $50, $52, $55, $53, $49, $41, $4E, $4F, $53, $09, $3F, $27, 0
    Data $27, $45, $55, $55, $55, $48, $20, $2D, $20, $54, $45, $4E, $47, $4F, $20, $55, $4E, $20, $50, $52, $45, $4D, $49, $4F, $20, $50, $41, $52, $41, $20, $54, $49, $27, 0
    Data 0
CutsTxtE8:
    Data $27, $55, $4E, $20, $50, $52, $45, $4D, $49, $4F, $3F, $20, $4E, $4F, $20, $4D, $45, $20, $4C, $4F, $20, $4D, $45, $52, $45, $5A, $43, $4F, $2E, $2E, $2E, $27, 0
    Data $2D, $20, $4D, $49, $4E, $54, $49, $4F, $20, $43, $48, $45, $52, $49, $4C, $2C, $20, $48, $41, $4C, $41, $47, $41, $44, $41, $2E, 0
    Data $27, $53, $49, $2E, $20, $4F, $46, $49, $43, $49, $41, $4C, $4D, $45, $4E, $54, $45, $20, $54, $45, $20, $4F, $54, $4F, $52, $47, $4F, $20, $4C, $41, 0
    Data $55, $4E, $49, $43, $41, $20, $45, $20, $49, $4E, $49, $4D, $49, $54, $41, $42, $4C, $45, $20, $43, $4F, $50, $41, $20, $44, $45, $4C, $20, $4D, $45, $41, $4F, $2C, 0
    Data $50, $4F, $52, $51, $55, $45, $20, $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $47, $41, $4E, $41, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $4C, $4C, $45, $56, $41, $4F, $2C, 0
    Data $51, $55, $49, $45, $4E, $20, $4C, $41, $20, $50, $45, $52, $44, $49, $4F, $2C, $20, $53, $45, $20, $4C, $41, $20, $42, $45, $42, $49, $4F, $27, $2E, 0
    Data $27, $4E, $4F, $20, $45, $4E, $54, $49, $45, $4E, $44, $4F, $20, $42, $49, $45, $4E, $20, $4C, $4F, $20, $51, $55, $45, $20, $44, $49, $43, $45, $53, $27, $2C, 0
    Data $44, $49, $4A, $4F, $20, $43, $48, $45, $52, $49, $4C, $2C, $20, $27, $50, $45, $52, $4F, $20, $4D, $4F, $4C, $41, $2E, $2E, $2E, 0
    Data $44, $45, $20, $56, $45, $52, $44, $41, $44, $20, $45, $53, $20, $55, $4E, $41, $20, $43, $4F, $50, $41, $20, $45, $4E, $4F, $52, $4D, $45, $2E, $2E, $2E, 0
    Data $56, $41, $59, $41, $20, $4D, $4F, $4E, $54, $4F, $4E, $41, $43, $4F, $20, $44, $45, $20, $50, $49, $50, $49, $21, $27, 0
    Data $27, $4E, $55, $4E, $43, $41, $20, $53, $41, $42, $45, $53, $20, $43, $55, $41, $4E, $44, $4F, $20, $4C, $4F, $20, $56, $41, $53, $20, $41, 0
    Data $4E, $45, $43, $45, $53, $49, $54, $41, $52, $2C, $20, $47, $55, $41, $52, $44, $41, $4C, $4F, $20, $42, $49, $45, $4E, $21, $27, 0
    Data $59, $20, $41, $53, $49, $20, $43, $48, $45, $52, $49, $4C, $20, $46, $55, $45, $20, $46, $45, $4C, $49, $5A, $2C, $20, $45, $4C, $20, $41, $4C, $43, $41, $4C, $44, $45, 0
    Data $46, $55, $45, $20, $46, $45, $4C, $49, $5A, $2C, $20, $59, $20, $54, $4F, $44, $4F, $20, $45, $52, $41, $20, $47, $55, $41, $43, $48, $49, $2C, 0
    Data $51, $55, $45, $20, $45, $53, $20, $43, $4F, $4D, $4F, $20, $44, $45, $42, $45, $20, $53, $45, $52, $2E, 0
    Data $59, $20, $41, $48, $4F, $52, $41, $20, $51, $55, $45, $3F, $20, $42, $55, $45, $4E, $4F, $2C, $20, $4E, $55, $45, $56, $41, $53, $20, $41, $56, $45, $4E, $54, $55, $52, $41, $53, 0
    Data $45, $53, $50, $45, $52, $41, $4E, $20, $41, $20, $43, $48, $45, $52, $49, $4C, $2E, $20, $45, $53, $54, $41, $4F, $53, $20, $41, $54, $45, $4E, $54, $4F, $53, $2E, 0
    Data $47, $52, $41, $43, $49, $41, $53, $20, $50, $4F, $52, $20, $4A, $55, $47, $41, $52, $21, 0
    Data 0

'' Cutscene data. The images...

cs1td:
	DataFile cs1td.bin, bin
cs1pal:
	DATAINT	$0040,$0040,$0020,$022C,$0228,$0280,$02A4,$0222
	DATAINT	$068E,$08AE,$004E,$0CCA,$0EEE,$0642,$0000,$0000
cs2td:
	DataFile cs2td.bin, bin
cs2pal:
	DATAINT	$0222,$0222,$0280,$0020,$02A4,$0CCA,$0EEE,$0444
	DATAINT	$08AE,$068E,$0000,$0000,$0000,$0000,$0000,$0000
cs3td:
	DataFile cs3td.bin, bin
cs3pal:
	DATAINT	$0000,$0000,$004E,$020C,$0280,$02A4,$0A64,$0CCA
	DATAINT	$0EEE,$0222,$068E,$08AE,$0000,$0000,$0000,$0000
cs4td:
	DataFile cs4td.bin, bin	
cs4pal:
	DATAINT	$0EEE,$0EEE,$0A64,$0CCA,$0222,$0002,$020C,$0000
	DATAINT	$004E,$00AE,$0280,$02A4,$068E,$08AE,$0008,$0000
cs5td:
	DataFile cs5td.bin, bin
cs5pal:
	DATAINT	$0844,$0844,$0000,$0668,$068A,$0446,$0E66,$08AC
	DATAINT	$0AEE,$0064,$04A8,$0408,$064E,$0C88,$06AC,$0000
cs6td:
	DataFile cs6td.bin, bin
cs6pal:
	DATAINT	$0424,$0424,$0866,$0222,$0A88,$08AC,$048A,$0000
	DATAINT	$0644,$042A,$084E,$0064,$0ACE,$0446,$0CAA,$0000
cs1btd:
	DataFile cs1btd.bin, bin
cs1bpal:
	DATAINT	$0004,$0004,$0226,$0448,$0222,$0224,$0042,$0046
	DATAINT	$026C,$068C,$048C,$0248,$0468,$0228,$0CEE,$044A
cs2btd:
	DataFile cs2btd.bin, bin
cs2bpal:
	DATAINT	$0004,$0004,$0844,$0224,$0042,$0266,$026C,$048C
	DATAINT	$0046,$0468,$0448,$0228,$0CEE,$0000,$0248,$044A

	
'' Cutscene data. The font
csftd:
	DataFile csftd.bin, bin
csfpal:
	DATAINT	$0000,$0CEE,$0400,$04EE,$028E,$0000,$0000,$0000
	DATAINT	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000


'' Cutscene code. The subroutines

Declare Sub showImage()
	' Simple, just display the 480 tiles image in a fancy way.
	' Image is 480 tiles, this is, 320x96 pixes = 40x12
	For xx = 0 To 51
		t = xx: If t > 11 Then t = 11
		For i = 0 To t
			x = xx - i
			y = 2 + i
			ts = Pallette(1) + 256 + (40 * i) + x
			If x < 40 Then DrawTile ts, x, y
		Next i
		Sleep 1
	Next x
End Sub

Declare Sub clearImage()
	For xx = 0 To 51
		t = xx: If t > 11 Then t = 11
		For i = 0 To t
			x = xx - i
			y = 2 + i
			If x < 40 Then DrawTile 0, x, y
		Next i
		Sleep 1
	Next x
End Sub

Declare Sub miCls
	' FUCKING CLS DOESNT FUCKING WORK FOR THE FUCKING SAKE OF FUCKING IT
	For y = 0 To 29
		For x = 0 To 39
			SetGFXPlane SCROLL_A
			DrawTile 0, x, y
			SetGFXPlane SCROLL_B
			DrawTile 0, x, y
		Next x
	Next y	
End Sub

Declare Sub showCutS(n As Integer)
	'' Show cutscene #n
	'' Prepare stuff
	Disable Screen
	FreeAllSprites
	
	miCls
	
	' Load times / palette from image n (256 onwards, palette 1).
	' I hate this language... everything is so damn awkward to achieve.
	Select Case n
		Case 1:
			Pallettes cs1pal, 1, 0, 16
			LoadTiles cs1td, 480, 256
			If Language = 0 Then Reload CutsTxt1 Else Reload CutsTxtE1
			Exit Select
		Case 2:
			Pallettes cs2pal, 1, 0, 16
			LoadTiles cs2td, 480, 256
			If Language = 0 Then Reload CutsTxt2 Else Reload CutsTxtE2
			Exit Select
		Case 3:
			Pallettes cs3pal, 1, 0, 16
			LoadTiles cs3td, 480, 256
			If Language = 0 Then Reload CutsTxt3 Else Reload CutsTxtE3
			Exit Select
		Case 4:
			Pallettes cs4pal, 1, 0, 16
			LoadTiles cs4td, 480, 256
			If Language = 0 Then Reload CutsTxt4 Else Reload CutsTxtE4
			Exit Select
		Case 5:	
			Pallettes cs1bpal, 1, 0, 16
			LoadTiles cs1btd, 480, 256
			If Language = 0 Then Reload CutsTxt5 Else Reload CutsTxtE5
			Exit Select
		Case 6:	
			Pallettes cs2bpal, 1, 0, 16
			LoadTiles cs2btd, 480, 256
			If Language = 0 Then Reload CutsTxt6 Else Reload CutsTxtE6
			Exit Select			
		Case 7:	
			Pallettes cs5pal, 1, 0, 16
			LoadTiles cs5td, 480, 256
			If Language = 0 Then Reload CutsTxt7 Else Reload CutsTxtE7
			Exit Select
		Case 8:	
			Pallettes cs6pal, 1, 0, 16
			LoadTiles cs6td, 480, 256
			If Language = 0 Then Reload CutsTxt8 Else Reload CutsTxtE8
			Exit Select			
	End Select
	
	' Load font/font pal (palette 0)
	Pallettes csfpal, 0, 0, 16
	LoadTiles csftd, 80, 32
	
	Enable Screen
	
	If n < 4 [OR] n = 7 Then
		' Cut1
		If ntscTimings = 1 Then
			asm
				lea XgmNtscCut1, a1
			end asm
		Else
			asm
				lea XgmPalCut1, a1
			end asm
		End If
	ElseIf n > 3 [AND] n < 7 Then
		' Cuts
		If ntscTimings = 1 Then
			asm
				lea XgmNtscCuts, a1
			end asm
		Else
			asm
				lea XgmPalCuts, a1
			end asm
		End If
	ElseIf n = 8 Then
		' Ending (Copa Meao)
		If ntscTimings = 1 Then
			asm
				lea XgmNtscEnding, a1
			end asm
		Else
			asm
				lea XgmPalEnding, a1
			end asm
		End If
	End If
	xgm_startPlayMusic
	
	SetGFXPlane SCROLL_B
	For i = 0 To 39
		DrawTile 97, i, 1
		DrawTile 96, i, 14
	Next i
	showImage 	
	
	' Now render the text.
	tyadj = 16 ' make this a const!
	x = 2: y = 0
	doSleep = 1
	Do
		prsmt = 0	
		Do
			Read c
			If c = 0 Then Exit Do
			DrawTile c, x, tyadj + y + y
			prsmt = 1
			x = x + 1
			j = joypad ()
			If j.7 Then Goto CutsceneAdios
			If j Then doSleep = 0
			If doSleep Then Sleep 6
		Loop
		Do
			j = joypad()
		Loop While j <> 0
		
		y = y + 1: x = 2
		If y = 6 Then
			' Wait			
			Do
				j = joypad()
			Loop While j = 0
			If j.7 Then Goto CutsceneAdios
			
			Do
				j = joypad()
			Loop While j <> 0
			
			y = 0
			
			For i = 0 To 5
				For j = 0 To 39
					DrawTile 0, j, tyadj + i + i
				Next j
				Sleep 6
			Next i
			
			doSleep = 1
		End If
		
		If prsmt = 0 Then Exit Do			
	Loop
CutsceneAdios:
	For i = 0 To 5
		For j = 0 To 39
			DrawTile 0, j, tyadj + i + i
		Next j
	Next i	
	xgm_stopPlayMusic
	
	'clearImage
	scrollyVMelt
End Sub

'' My own's lame "playSound" will play Pcm on demand...
'' Plays sound
Declare Sub playSound(which)
	' channels
	' player 0
	' enemy 1
	' environ 2
	Select Case which
		Case 0:
			' CEBOLLA!
			Exit Select
		' Jump
		Case 1:
			asm			 	
				lea 	PcmJump,a1
				move.l	#(PcmJump_end-PcmJump),d1
				move.l	#((1<<4)|3),d2
			end asm
			xgm_playPCM
			Exit Select
		' Hit
		Case 2:
			asm			 	
				lea 	PcmHit,a1
				move.l	#(PcmHit_end-PcmHit),d1
				move.l	#((1<<4)|1),d2
			end asm
			xgm_playPCM
			Exit Select
		' Ah			
		Case 3:
			asm			 	
				lea 	PcmJump,a1
				move.l	#(PcmAh_end-PcmAh),d1
				move.l	#((1<<4)|0),d2
			end asm
			xgm_playPCM
			Exit Select
		' Spike
		Case 4:
			asm			 	
				lea 	PcmSpike,a1
				move.l	#(PcmSpike_end-PcmSpike),d1
				move.l	#((1<<4)|1),d2
			end asm
			xgm_playPCM
			Exit Select
		' Key
		Case 5:
			asm			 	
				lea 	PcmKey,a1
				move.l	#(PcmKey_end-PcmKey),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select
		' Life
		Case 6:
			asm			 	
				lea 	PcmLife,a1
				move.l	#(PcmLife_end-PcmLife),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select
		' Object
		Case 7:
			asm			 	
				lea 	PcmObject,a1
				move.l	#(PcmObject_end-PcmObject),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select
		' Bolt
		Case 8:
			asm			 	
				lea 	PcmBolt,a1
				move.l	#(PcmBolt_end-PcmBolt),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select
		' Blam
		Case 9:
			asm			 	
				lea 	PcmBlam,a1
				move.l	#(PcmBlam_end-PcmBlam),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select
		' No!
		Case 10:
			asm			 	
				lea 	PcmNo,a1
				move.l	#(PcmNo_end-PcmNo),d1
				move.l	#((1<<4)|1),d2
			end asm
			xgm_playPCM
			Exit Select
		' Dale Fran!
		Case 11:
			asm			 	
				lea 	PcmDaleFran,a1
				move.l	#(PcmDaleFran_end-PcmDaleFran),d1
				move.l	#((1<<4)|0),d2
			end asm
			xgm_playPCM
			Exit Select
		' Start
		Case 12:
			asm			 	
				lea 	PcmStart,a1
				move.l	#(PcmStart_end-PcmStart),d1
				move.l	#((1<<4)|0),d2
			end asm
			xgm_playPCM
			Exit Select
		' Select
		Case 13:
			asm			 	
				lea 	PcmSelect,a1
				move.l	#(PcmSelect_end-PcmSelect),d1
				move.l	#((1<<4)|0),d2
			end asm
			xgm_playPCM
			Exit Select
		' Power Off
		Case 14:
			asm			 	
				lea 	PcmPowerOff,a1
				move.l	#(PcmPowerOff_end-PcmPowerOff),d1
				move.l	#((1<<4)|1),d2
			end asm
			xgm_playPCM
			Exit Select
		' Count down
		Case 15:
			asm			 	
				lea 	PcmCountDown,a1
				move.l	#(PcmCountDown_end-PcmCountDown),d1
				move.l	#((1<<4)|3),d2
			end asm
			xgm_playPCM
			Exit Select
		' Count down end
		Case 16:
			asm			 	
				lea 	PcmFinalCountdown,a1
				move.l	#(PcmFinalCountdown_end-PcmFinalCountdown),d1
				move.l	#((1<<4)|3),d2
			end asm
			xgm_playPCM
			Exit Select
		Case 17:
			asm			 	
				lea 	PcmBarril,a1
				move.l	#(PcmBarril_end-PcmBarril),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select
		Case 18:
			asm			 	
				lea 	PcmPause,a1
				move.l	#(PcmPause_end-PcmPause),d1
				move.l	#((1<<4)|2),d2
			end asm
			xgm_playPCM
			Exit Select			
	End Select
End Sub

sltd:
	Datafile sltd.bin, bin
slpd:
	Datafile slpd.bin, bin
	
Declare Sub selectLanguage
	language = 0
	
	Disable Screen
	FreeAllSprites
	SetGFXPlane SCROLL_B
	Cls
	SetGFXPlane SCROLL_A
	Cls
	
	' Load tilemaps, pals.
	Pallettes csfpal, 0, 0, 16
	Loadtiles csftd, 80, 32
	Pallettes slpd, 1, 0, 16
	Loadtiles sltd, 24, 256
	
	' Show flags
	DrawTilesInc Pallette(1) + 257, 10, 10, 3, 3
	DrawTilesInc Pallette(1) + 266, 10, 15, 3, 3
	
	' Show texts
	Locate 10, 14: Print "ENGLISH LANGUAGE"
	Locate 15, 14: Print "IDIOMA DE BADAJOZ"
	
	' Remove this
	Locate 1, 0
	If ntscTimings = 1 Then Print "NTSC (60HZ)" Else Print "PAL (50HZ)"
	
	' Do
	Enable Screen
	
	sprHand = AddSprite(2, 2)
	PropSprite sprHand, 275, 1
	dothis = 1
	
	Do
		MoveSprite sprHand, 190, 214 + (40 * language)
		j = Joypad()
		If j.0 And language = 1 Then language = 0
		If j.1 And language = 0 Then language = 1
		If j.4 [OR] j.5 [OR] j.6 [OR] j.7 Then dothis = 0
	Loop While dothis
	
	FreeAllSprites
	
End Sub

Declare sub scrollyVMelt 
	For i = 0 To 9
		yScrollPostn(i) = i * 8
		yScrollPostn(19-i) = i * 8
		yScrollCoord(i) = 0
		yScrollCoord(19-i) = 0
	Next i
	SetScrollMode HSCROLL_LINE, VSCROLL_2CELL
	ctr = 0
	Do
		For i = 0 To 19
			If yScrollPostn(i) > 0 Then
				yScrollPostn(i) = yScrollPostn(i) - 8
			Else
				yScrollCoord(i) = yScrollCoord(i) + 8
				If yScrollCoord(i) <= 240 Then
					SetScrollPlane SCROLL_A
					Scroll Down, 8, i
					SetScrollPlane SCROLL_B
					Scroll Up, 8, i
				End If
			End If
		Next i
		Sleep 1
		ctr = ctr + 8
	Loop While ctr < 320

	miCls
	For i = 0 To 19
		SetScrollPlane SCROLL_A
		Scroll2 Down, 0, i
		SetScrollPlane SCROLL_B
		Scroll2 Down, 0, i
	Next i
End Sub

'' Waits for vSync to start. 
'' From http://bigevilcorporation.co.uk/2012/04/30/sega-megadrive-7-gamepad-input-and-the-game-loop/

Declare Sub vSync
	asm
WaitVBlankStart:
	; $C00004 = vdp_control
	move.w $C00004, d0		; Move VDP status word to d0
	andi.w #$0008, d0		; AND with bit 4 (vblank), result in status register
	bne    WaitVBlankStart	; Branch if not equal (to zero)
	rts
WaitVBlankEnd:
   move.w $C00004, d0		; Move VDP status word to d0
   andi.w #$0008, d0		; AND with bit 4 (vblank), result in status register
   beq    WaitVBlankEnd		; Branch if equal (to zero)
   rts	
   end asm
End Sub
